{"ast":null,"code":"var _jsxFileName = \"/Users/sathwik/hospital-portal/frontend/src/pages/DoctorDashboard.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function DoctorDashboard() {\n  _s();\n  const [patients, setPatients] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [familyHistory, setFamilyHistory] = useState([]);\n  const [familyMembers, setFamilyMembers] = useState([]);\n  const [familySummary, setFamilySummary] = useState({});\n  const [saving, setSaving] = useState(false);\n  const [loadingHistory, setLoadingHistory] = useState(false);\n  const token = localStorage.getItem('token');\n\n  // Fetch patients\n  const fetchPatients = async () => {\n    try {\n      setLoading(true);\n      console.log('Fetching patients...');\n      const response = await fetch('http://localhost:8080/api/patients', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('Patients fetched:', data);\n      setPatients(data || []);\n      setError('');\n    } catch (err) {\n      setError('Failed to load patients');\n      console.error('Error fetching patients:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch complete family history by phone number\n  const fetchFamilyHistoryByPhone = async phoneNumber => {\n    try {\n      setLoadingHistory(true);\n      console.log(`Fetching complete family history for phone ${phoneNumber}...`);\n      const response = await fetch(`http://localhost:8080/api/patients/phone/${phoneNumber}/family-history`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        console.log('Complete family history:', data);\n        setFamilyHistory(data.medical_history || []);\n        setFamilyMembers(data.family_members || []);\n        setFamilySummary(data.family_summary || {});\n      } else {\n        console.log('No family history found');\n        setFamilyHistory([]);\n        setFamilyMembers([]);\n        setFamilySummary({});\n      }\n    } catch (err) {\n      console.error('Failed to fetch family history:', err);\n      setFamilyHistory([]);\n      setFamilyMembers([]);\n      setFamilySummary({});\n    } finally {\n      setLoadingHistory(false);\n    }\n  };\n\n  // Update patient\n  const updatePatient = async e => {\n    e.preventDefault();\n    setSaving(true);\n    try {\n      console.log('Updating patient:', editingPatient);\n      const response = await fetch(`http://localhost:8080/api/patients/${editingPatient.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          name: editingPatient.name,\n          age: editingPatient.age,\n          gender: editingPatient.gender,\n          phone_number: editingPatient.phone_number,\n          relationship: editingPatient.relationship,\n          diagnosis: editingPatient.diagnosis || '',\n          medical_notes: editingPatient.medical_notes || '',\n          prescriptions: editingPatient.prescriptions || '',\n          last_checkup: editingPatient.last_checkup || '',\n          next_appointment: editingPatient.next_appointment || ''\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.text();\n        throw new Error(`Failed to update patient: ${errorData}`);\n      }\n      const result = await response.json();\n      console.log('Update result:', result);\n\n      // Refresh patient list and family history\n      await fetchPatients();\n      await fetchFamilyHistoryByPhone(editingPatient.phone_number);\n      alert('‚úÖ Patient medical record updated successfully!');\n    } catch (err) {\n      alert(`‚ùå Error updating patient: ${err.message}`);\n      console.error('Update error:', err);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Open edit modal\n  const handleEdit = async patient => {\n    console.log('Editing patient:', patient);\n    setEditingPatient({\n      ...patient,\n      medical_notes: patient.medical_notes || '',\n      prescriptions: patient.prescriptions || '',\n      last_checkup: patient.last_checkup || new Date().toISOString().split('T')[0],\n      next_appointment: patient.next_appointment || ''\n    });\n\n    // Fetch complete family history by phone number\n    await fetchFamilyHistoryByPhone(patient.phone_number);\n    setShowEditModal(true);\n  };\n\n  // Close edit modal\n  const handleCloseModal = () => {\n    setShowEditModal(false);\n    setEditingPatient(null);\n    setFamilyHistory([]);\n    setFamilyMembers([]);\n    setFamilySummary({});\n  };\n\n  // Handle input changes\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditingPatient({\n      ...editingPatient,\n      [name]: value\n    });\n  };\n\n  // Get relationship emoji\n  const getRelationshipEmoji = relationship => {\n    const emojis = {\n      'self': 'üë§',\n      'son': 'üë¶',\n      'daughter': 'üëß',\n      'mother': 'üë©',\n      'father': 'üë®',\n      'spouse': 'üíë',\n      'brother': 'üë¶',\n      'sister': 'üëß',\n      'grandfather': 'üë¥',\n      'grandmother': 'üëµ',\n      'other': 'üë•'\n    };\n    return emojis[relationship] || 'üë§';\n  };\n\n  // Get relationship display name\n  const getRelationshipDisplay = relationship => {\n    const displays = {\n      'self': 'Self',\n      'son': 'Son',\n      'daughter': 'Daughter',\n      'mother': 'Mother',\n      'father': 'Father',\n      'spouse': 'Spouse',\n      'brother': 'Brother',\n      'sister': 'Sister',\n      'grandfather': 'Grandfather',\n      'grandmother': 'Grandmother',\n      'other': 'Other'\n    };\n    return displays[relationship] || 'Unknown';\n  };\n  useEffect(() => {\n    fetchPatients();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"dashboard-title\",\n          children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Doctor Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"dashboard-subtitle\",\n          children: \"Review and update patient medical records with family history tracking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          localStorage.removeItem(\"token\");\n          localStorage.removeItem(\"user\");\n          window.location.href = \"/login\";\n        },\n        style: {\n          background: \"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)\",\n          color: \"white\",\n          border: \"none\",\n          padding: \"10px 20px\",\n          borderRadius: \"8px\",\n          fontSize: \"14px\",\n          fontWeight: \"bold\",\n          cursor: \"pointer\",\n          boxShadow: \"0 2px 4px rgba(239, 68, 68, 0.3)\",\n          transition: \"all 0.2s ease\",\n          position: \"absolute\",\n          top: \"20px\",\n          right: \"20px\",\n          zIndex: 1000\n        },\n        onMouseOver: e => {\n          e.target.style.transform = \"translateY(-1px)\";\n          e.target.style.boxShadow = \"0 4px 8px rgba(239, 68, 68, 0.4)\";\n        },\n        onMouseOut: e => {\n          e.target.style.transform = \"translateY(0)\";\n          e.target.style.boxShadow = \"0 2px 4px rgba(239, 68, 68, 0.3)\";\n        },\n        children: \"\\uD83D\\uDEAA Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card green\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Total Patients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: patients.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDC65\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card blue\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Active Cases\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: patients.filter(p => p.diagnosis && p.diagnosis !== 'None specified' && p.diagnosis !== '').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card purple\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Family Patients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: patients.filter(p => p.relationship !== 'self').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card orange\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Today's Updates\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: patients.filter(p => p.updated_at && new Date(p.updated_at).toDateString() === new Date().toDateString()).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83E\\uDE7A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '40px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '24px',\n            fontWeight: 'bold',\n            marginBottom: '16px'\n          },\n          children: \"\\uD83D\\uDCCB Patient Records\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#6b7280',\n            marginBottom: '24px'\n          },\n          children: \"Click on any patient to view their complete family medical history and update current condition\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '40px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD83D\\uDD04 Loading patients...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '40px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error-message\",\n            children: [\"\\u274C \", error]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchPatients,\n            style: {\n              marginTop: '10px',\n              padding: '8px 16px',\n              backgroundColor: '#3b82f6',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            },\n            children: \"\\uD83D\\uDD04 Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this), !loading && !error && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: patients.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: '40px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uD83D\\uDCED No patients found.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"patient-grid\",\n            children: patients.map(patient => {\n              const hasHistory = patient.medical_history && patient.medical_history.length > 0;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `patient-card ${hasHistory ? 'returning-patient' : 'new-patient'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"patient-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"patient-name\",\n                    children: [getRelationshipEmoji(patient.relationship), \" \", patient.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-badges\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"patient-id\",\n                      children: [\"ID: \", patient.id]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 329,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"relationship-badge\",\n                      children: getRelationshipDisplay(patient.relationship)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 29\n                    }, this), hasHistory && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"returning-badge\",\n                      children: \"\\uD83D\\uDD04 Has History\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 44\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"patient-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\uD83D\\uDC64 Age: \", patient.age, \" years | Gender: \", patient.gender]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\uD83D\\uDCDE Phone: \", patient.phone_number]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail relationship-info\",\n                    children: [\"\\uD83D\\uDC65 Relationship: \", getRelationshipDisplay(patient.relationship)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\uD83C\\uDFE5 Current Diagnosis: \", patient.diagnosis || 'None specified']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 27\n                  }, this), patient.prescriptions && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\uD83D\\uDC8A Current Medications: \", patient.prescriptions]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 29\n                  }, this), patient.last_checkup && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\uD83D\\uDDD3\\uFE0F Last Checkup: \", patient.last_checkup]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 29\n                  }, this), hasHistory && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail history-indicator\",\n                    children: [\"\\uD83D\\uDCDA Previous Visits: \", patient.medical_history.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 29\n                  }, this), patient.updated_at && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\u23F0 Last Updated: \", new Date(patient.updated_at).toLocaleDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"patient-actions\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-edit\"\n                    // onClick={() => handleEdit(patient)}\n                    ,\n                    onClick: async () => {\n                      try {\n                        const token = localStorage.getItem('token');\n                        let patientHistory = [];\n                        let familyData = {\n                          family_members: [],\n                          medical_history: [],\n                          family_summary: {}\n                        };\n                        console.log('Patient data:', patient);\n\n                        // Try to get individual patient history first\n                        if (token) {\n                          try {\n                            console.log('Fetching individual patient history for ID:', patient.id);\n                            const historyResponse = await fetch(`http://localhost:8080/api/patients/${patient.id}/history`, {\n                              headers: {\n                                'Authorization': `Bearer ${token}`,\n                                'Content-Type': 'application/json'\n                              }\n                            });\n                            if (historyResponse.ok) {\n                              patientHistory = await historyResponse.json();\n                              console.log('Individual patient history:', patientHistory);\n                            }\n                          } catch (error) {\n                            console.log('Individual history API not available, trying family API');\n                          }\n\n                          // Also try family API\n                          if (patient.phone_number) {\n                            try {\n                              const familyResponse = await fetch(`http://localhost:8080/api/patients/family/${patient.phone_number}`, {\n                                headers: {\n                                  'Authorization': `Bearer ${token}`,\n                                  'Content-Type': 'application/json'\n                                }\n                              });\n                              if (familyResponse.ok) {\n                                familyData = await familyResponse.json();\n                                console.log('Family data:', familyData);\n                              }\n                            } catch (error) {\n                              console.log('Family API error:', error);\n                            }\n                          }\n                        }\n\n                        // Combine all medical history\n                        const allHistory = [...patientHistory, ...(familyData.medical_history || [])];\n                        console.log('Combined history:', allHistory);\n\n                        // Now open the new tab with all the data\n                        const newTab = window.open('', '_blank');\n                        newTab.document.write(`\n      <html>\n        <head>\n          <title>Medical Record - ${patient.name}</title>\n          <style>\n            body { \n              font-family: Arial, sans-serif; \n              padding: 20px; \n              background-color: #f5f7fa;\n              margin: 0;\n            }\n            .header {\n              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n              color: white;\n              padding: 20px;\n              border-radius: 8px;\n              margin-bottom: 20px;\n              display: flex;\n              justify-content: space-between;\n              align-items: center;\n            }\n            .container {\n              max-width: 1200px;\n              margin: 0 auto;\n            }\n            .form-group { \n              margin-bottom: 20px; \n              background: white;\n              padding: 15px;\n              border-radius: 8px;\n              box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n            }\n            .two-columns {\n              display: grid;\n              grid-template-columns: 1fr 1fr;\n              gap: 20px;\n            }\n            h1 { margin: 0; }\n            h2 { \n              margin-top: 0;\n              color: #4338ca;\n              border-bottom: 1px solid #e5e7eb;\n              padding-bottom: 10px;\n            }\n            label { \n              display: block; \n              margin-bottom: 8px; \n              font-weight: bold;\n              color: #4b5563;\n            }\n            input, textarea { \n              width: 100%; \n              padding: 12px; \n              border: 1px solid #e5e7eb; \n              border-radius: 6px;\n              font-size: 16px;\n              box-sizing: border-box;\n            }\n            textarea {\n              min-height: 120px;\n            }\n            .buttons {\n              display: flex;\n              gap: 10px;\n              margin-top: 20px;\n            }\n            button { \n              padding: 12px 24px; \n              border: none; \n              border-radius: 6px; \n              cursor: pointer;\n              font-weight: bold;\n              font-size: 16px;\n            }\n            .save-btn { \n              background: #10b981; \n              color: white; \n            }\n            .cancel-btn { \n              background: #ef4444; \n              color: white; \n            }\n            .visit-history {\n              background: #f8fafc;\n              border-radius: 6px;\n              padding: 15px;\n              margin-bottom: 15px;\n              border-left: 4px solid #3b82f6;\n            }\n            .current-record {\n              background: #ecfdf5;\n              border-left: 4px solid #10b981;\n            }\n            .debug-info {\n              background: #fef3c7;\n              border: 1px solid #f59e0b;\n              border-radius: 6px;\n              padding: 10px;\n              margin-bottom: 10px;\n              font-family: monospace;\n              font-size: 12px;\n            }\n          </style>\n        </head>\n        <body>\n          <div class=\"header\">\n            <h1>üìù Medical Record - ${patient.name}</h1>\n            <button class=\"cancel-btn\" onclick=\"window.close()\">‚ùå Close</button>\n          </div>\n          <div class=\"container\">\n            \n            <div class=\"two-columns\">\n              <!-- Left Column -->\n              <div>\n                <div class=\"form-group\">\n                  <h2>üë§ Patient Information</h2>\n                  <p><strong>Name:</strong> ${patient.name}</p>\n                  <p><strong>Age:</strong> ${patient.age} years</p>\n                  <p><strong>Gender:</strong> ${patient.gender || 'Not specified'}</p>\n                  <p><strong>Phone:</strong> ${patient.phone_number || 'Not provided'}</p>\n                  <p><strong>Relationship:</strong> ${patient.relationship || 'Self'}</p>\n                  <p><strong>Patient ID:</strong> ${patient.id}</p>\n                </div>\n                \n                <div class=\"form-group\">\n                  <h2>ü©∫ Medical Visit History</h2>\n                  <div id=\"visitHistory\">\n                    ${allHistory && allHistory.length > 0 ? allHistory.map((visit, index) => {\n                          const isCurrentRecord = visit.id === patient.id || index === allHistory.length - 1;\n                          return `<div class=\"visit-history ${isCurrentRecord ? 'current-record' : ''}\">\n                            <p><strong>üìÖ Date:</strong> ${visit.updated_at ? new Date(visit.updated_at).toLocaleDateString() : 'Not specified'}</p>\n                            <p><strong>üè• Diagnosis:</strong> ${visit.diagnosis || 'None'}</p>\n                            <p><strong>üìù Notes:</strong> ${visit.medical_notes || 'None'}</p>\n                            <p><strong>üíä Prescriptions:</strong> ${visit.prescriptions || 'None'}</p>\n                            <p><strong>üìÖ Next Appointment:</strong> ${visit.next_appointment || 'Not scheduled'}</p>\n                            ${isCurrentRecord ? '<p><em>üü¢ Current Record</em></p>' : ''}\n                          </div>`;\n                        }).join('') : `<div class=\"visit-history\">\n                          <p><strong>üìÖ Current Visit</strong></p>\n                          <p><strong>üè• Diagnosis:</strong> ${patient.diagnosis || 'None'}</p>\n                          <p><strong>üìù Notes:</strong> ${patient.medical_notes || 'None'}</p>\n                          <p><strong>üíä Prescriptions:</strong> ${patient.prescriptions || 'None'}</p>\n                          <p><strong>üìÖ Last Checkup:</strong> ${patient.last_checkup || 'Not specified'}</p>\n                          <p><em>üü¢ This is the first/current record</em></p>\n                        </div>`}\n                  </div>\n                </div>\n                \n                <div class=\"form-group\">\n                  <h2>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family Members</h2>\n                  <div>\n                    ${familyData.family_members && familyData.family_members.length > 0 ? familyData.family_members.map(member => `<p>üë§ <strong>${member.name}</strong> (${member.relationship || 'Unknown'}) - Age: ${member.age}</p>`).join('') : '<p>No other family members found using this phone number.</p>'}\n                  </div>\n                </div>\n              </div>\n              \n              <!-- Right Column -->\n              <div>\n                <div class=\"form-group\">\n                  <h2>üè• Current Diagnosis</h2>\n                  <input type=\"text\" id=\"diagnosis\" value=\"${patient.diagnosis || ''}\" />\n                </div>\n                \n                <div class=\"form-group\">\n                  <h2>üìù Medical Notes</h2>\n                  <textarea id=\"medical_notes\">${patient.medical_notes || ''}</textarea>\n                </div>\n                \n                <div class=\"form-group\">\n                  <h2>üíä Prescriptions</h2>\n                  <textarea id=\"prescriptions\">${patient.prescriptions || ''}</textarea>\n                </div>\n                \n                <div class=\"form-group\">\n                  <h2>üìÖ Appointment Information</h2>\n                  <label>Next Checkup Date:</label>\n                  <input type=\"date\" id=\"next_appointment\" value=\"${patient.next_appointment || ''}\" />\n                </div>\n                \n                <div class=\"buttons\">\n                  <button type=\"button\" class=\"save-btn\" onclick=\"saveRecord()\">üíæ Save Record</button>\n                  <button type=\"button\" class=\"cancel-btn\" onclick=\"window.close()\">‚ùå Cancel</button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <script>\n            function saveRecord() {\n              const data = {\n                diagnosis: document.getElementById('diagnosis').value,\n                medical_notes: document.getElementById('medical_notes').value,\n                prescriptions: document.getElementById('prescriptions').value,\n                next_appointment: document.getElementById('next_appointment').value\n              };\n              \n              alert('Record saved successfully!');\n              window.close();\n            }\n          </script>\n        </body>\n      </html>\n    `);\n                      } catch (error) {\n                        console.error('Error fetching patient data:', error);\n                        alert('Error loading patient data: ' + error.message);\n                      }\n                    },\n                    children: hasHistory ? 'üìö View Family History & Update' : '‚úèÔ∏è Add First Medical Record'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 25\n                }, this)]\n              }, patient.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 17\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), showEditModal && editingPatient && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content family-modal\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"patient-info-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"modal-title\",\n                children: [\"\\uD83E\\uDE7A Medical Record - \", getRelationshipEmoji(editingPatient.relationship), \" \", editingPatient.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"patient-status\",\n                children: familySummary.has_history ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status-badge family-history\",\n                  children: [\"\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66 Family History (\", familySummary.total_visits, \" total visits)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status-badge new-family\",\n                  children: \"\\u2728 New Family (First Visit)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"modal-subtitle\",\n              children: [\"\\uD83D\\uDCDE Phone: \", editingPatient.phone_number, \" | \\uD83D\\uDC65 Relationship: \", getRelationshipDisplay(editingPatient.relationship), \" | \\uD83D\\uDC64 Age: \", editingPatient.age, \" | Gender: \", editingPatient.gender]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"modal-close\",\n              onClick: handleCloseModal,\n              style: {\n                position: 'absolute',\n                top: '16px',\n                right: '16px',\n                background: 'rgba(239, 68, 68, 0.1)',\n                border: '1px solid rgba(239, 68, 68, 0.3)',\n                borderRadius: '50%',\n                width: '36px',\n                height: '36px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '24px',\n                fontWeight: 'bold',\n                cursor: 'pointer',\n                color: '#ef4444',\n                zIndex: 1001\n              },\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"history-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"section-title\",\n                children: [\"\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66 Family Medical History\", familySummary.has_history && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"visit-count\",\n                  children: [\"(\", familySummary.unique_members, \" members, \", familySummary.total_visits, \" visits)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 736,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 19\n              }, this), loadingHistory ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-history\",\n                children: \"\\uD83D\\uDD04 Loading family history...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 743,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [familyMembers.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"family-members-section\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"subsection-title\",\n                    children: \"\\uD83D\\uDC65 Family Members Using This Phone\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"family-members-grid\",\n                    children: familyMembers.map((member, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `family-member-card ${member.id === editingPatient.id ? 'current-patient' : ''}`,\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"member-info\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"member-name\",\n                          children: [getRelationshipEmoji(member.relationship), \" \", member.name]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 754,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"member-details\",\n                          children: [getRelationshipDisplay(member.relationship), \" | Age: \", member.age]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 757,\n                          columnNumber: 35\n                        }, this), member.id === editingPatient.id && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"current-badge\",\n                          children: \"Current Patient\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 761,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 753,\n                        columnNumber: 33\n                      }, this)\n                    }, member.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 752,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 750,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 748,\n                  columnNumber: 25\n                }, this), familyHistory.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"history-list\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"subsection-title\",\n                    children: \"\\uD83E\\uDE7A Medical Visit History\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 773,\n                    columnNumber: 27\n                  }, this), familyHistory.map((history, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"history-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"history-header\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"visit-info\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"visit-date\",\n                          children: [\"\\uD83D\\uDDD3\\uFE0F \", new Date(history.visit_date).toLocaleDateString(), new Date(history.visit_date).toDateString() === new Date().toDateString() && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"today-badge\",\n                            children: \"Today\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 781,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 778,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"patient-info\",\n                          children: [getRelationshipEmoji(history.relationship), \" \", history.patient_name, \"(\", getRelationshipDisplay(history.relationship), \", Age: \", history.age, \")\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 784,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 777,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"doctor-name\",\n                        children: [\"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F \", history.doctor_name]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 789,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 776,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"history-details\",\n                      children: [history.diagnosis && /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"\\uD83C\\uDFE5 Diagnosis:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 795,\n                          columnNumber: 38\n                        }, this), \" \", history.diagnosis]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 795,\n                        columnNumber: 35\n                      }, this), history.medical_notes && /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"\\uD83D\\uDCDD Notes:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 798,\n                          columnNumber: 38\n                        }, this), \" \", history.medical_notes]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 798,\n                        columnNumber: 35\n                      }, this), history.prescriptions && /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"\\uD83D\\uDC8A Prescriptions:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 801,\n                          columnNumber: 38\n                        }, this), \" \", history.prescriptions]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 801,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 793,\n                      columnNumber: 31\n                    }, this)]\n                  }, history.id || index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 775,\n                    columnNumber: 29\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 772,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"no-history\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"no-history-icon\",\n                    children: \"\\uD83D\\uDCDD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 809,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"No previous medical history found for this phone number.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 810,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"This will be the first medical record for this family.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 811,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 808,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"update-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"section-title\",\n                children: [\"\\uD83E\\uDE7A Current Visit - \", getRelationshipEmoji(editingPatient.relationship), \" \", editingPatient.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"patient-relationship\",\n                  children: [\"(\", getRelationshipDisplay(editingPatient.relationship), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: updatePatient,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: [\"\\uD83C\\uDFE5 Current Diagnosis *\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"helper-text\",\n                      children: \"What is the current medical condition or complaint?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 828,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 826,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    name: \"diagnosis\",\n                    className: \"form-input\",\n                    value: editingPatient.diagnosis || '',\n                    onChange: handleInputChange,\n                    placeholder: \"e.g., Cough, Cold, Fever, Headache...\",\n                    rows: \"3\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 830,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 825,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: [\"\\uD83D\\uDCDD Medical Notes\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"helper-text\",\n                      children: \"Detailed observations, symptoms, examination findings\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 844,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 842,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    name: \"medical_notes\",\n                    className: \"form-input\",\n                    value: editingPatient.medical_notes || '',\n                    onChange: handleInputChange,\n                    placeholder: \"Enter detailed medical notes, observations, symptoms, examination findings...\",\n                    rows: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 846,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 841,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: [\"\\uD83D\\uDC8A Prescriptions\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"helper-text\",\n                      children: \"Medications with dosage and frequency\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 859,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 857,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    name: \"prescriptions\",\n                    className: \"form-input\",\n                    value: editingPatient.prescriptions || '',\n                    onChange: handleInputChange,\n                    placeholder: \"e.g., Paracetamol 500mg - 2 times daily after meals\\nAmoxicillin 250mg - 3 times daily for 7 days\",\n                    rows: \"3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 861,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 856,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      children: \"\\uD83D\\uDCC5 Checkup Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 873,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      name: \"last_checkup\",\n                      className: \"form-input\",\n                      value: editingPatient.last_checkup || '',\n                      onChange: handleInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 874,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 872,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      children: \"\\uD83D\\uDDD3\\uFE0F Next Appointment\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 884,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      name: \"next_appointment\",\n                      className: \"form-input\",\n                      value: editingPatient.next_appointment || '',\n                      onChange: handleInputChange,\n                      min: new Date().toISOString().split('T')[0]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 885,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 883,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 871,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-cancel\",\n                    onClick: handleCloseModal,\n                    disabled: saving,\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 897,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn btn-submit\",\n                    disabled: saving,\n                    children: saving ? 'üíæ Saving...' : 'üíæ Save Medical Record'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 905,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 896,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 824,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 819,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .family-modal .modal-content {\n          max-width: 1300px;\n          max-height: 97vh;\n          overflow-y: auto;\n          position: relative;\n        //   max-width: 98vw;    // Almost full viewport width\n        // max-height: 98vh;   // Almost full viewport height\n        // width: 98vw;        // Add this line\n        // height: 98vh;       // Add this line\n        // overflow-y: auto;\n        // position: relative;\n        }\n\n        .patient-info-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n\n        .patient-status {\n          display: flex;\n          gap: 8px;\n        }\n\n        .status-badge {\n          padding: 6px 12px;\n          border-radius: 20px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n\n        .status-badge.family-history {\n          background: #dbeafe;\n          color: #1e40af;\n        }\n\n        .status-badge.new-family {\n          background: #dcfce7;\n          color: #166534;\n        }\n\n        .returning-patient {\n          border-left: 4px solid #3b82f6;\n        }\n\n        .new-patient {\n          border-left: 4px solid #10b981;\n        }\n\n        .patient-badges {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n          gap: 4px;\n        }\n\n        .relationship-badge {\n          background: #f3e8ff;\n          color: #7c3aed;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n\n        .returning-badge {\n          background: #dbeafe;\n          color: #1e40af;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n\n        .relationship-info {\n          background: #f3e8ff;\n          color: #7c3aed;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-weight: 500;\n        }\n\n        .history-indicator {\n          background: #f0f9ff;\n          color: #0369a1;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-weight: 500;\n        }\n\n        .modal-body {\n          display: flex;\n          gap: 30px;\n          padding: 20px;\n        }\n\n        .history-section {\n          flex: 1.3;\n          border-right: 1px solid #e5e7eb;\n          padding-right: 20px;\n        }\n\n        .update-section {\n          flex: 1;\n          padding-left: 20px;\n        }\n\n        .section-title {\n          font-size: 18px;\n          font-weight: bold;\n          margin-bottom: 16px;\n          color: #374151;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .visit-count {\n          font-size: 14px;\n          color: #6b7280;\n          font-weight: normal;\n        }\n\n        .patient-relationship {\n          font-size: 14px;\n          color: #7c3aed;\n          font-weight: normal;\n        }\n\n        .subsection-title {\n          font-size: 16px;\n          font-weight: 600;\n          margin: 16px 0 12px 0;\n          color: #4b5563;\n        }\n\n        .loading-history {\n          text-align: center;\n          padding: 40px;\n          color: #6b7280;\n        }\n\n        .family-members-section {\n          margin-bottom: 24px;\n        }\n\n        .family-members-grid {\n          display: grid;\n          gap: 8px;\n          margin-bottom: 16px;\n        }\n\n        .family-member-card {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 12px;\n        }\n\n        .current-patient {\n          background: #dbeafe;\n          border-color: #3b82f6;\n        }\n\n        .member-info {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .member-name {\n          font-weight: 600;\n          color: #374151;\n        }\n\n        .member-details {\n          font-size: 12px;\n          color: #6b7280;\n        }\n\n        .current-badge {\n          background: #3b82f6;\n          color: white;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 10px;\n          font-weight: 600;\n        }\n\n        .history-list {\n          max-height: 500px;\n          overflow-y: auto;\n        }\n\n        .history-item {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 16px;\n          margin-bottom: 12px;\n        }\n\n        .history-header {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 8px;\n          font-size: 14px;\n          color: #6b7280;\n        }\n\n        .visit-info {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .patient-info {\n          font-weight: 500;\n          color: #374151;\n        }\n\n        .today-badge {\n          background: #fef3c7;\n          color: #92400e;\n          padding: 2px 6px;\n          border-radius: 8px;\n          font-size: 10px;\n          margin-left: 8px;\n        }\n\n        .history-details p {\n          margin: 6px 0;\n          font-size: 14px;\n          line-height: 1.4;\n        }\n\n        .no-history {\n          text-align: center;\n          padding: 40px;\n          background: #f9fafb;\n          border-radius: 8px;\n          border: 2px dashed #d1d5db;\n        }\n\n        .no-history-icon {\n          font-size: 48px;\n          margin-bottom: 16px;\n        }\n\n        .no-history p {\n          color: #6b7280;\n          margin: 8px 0;\n        }\n\n        .form-row {\n          display: flex;\n          gap: 16px;\n        }\n\n        .form-row .form-group {\n          flex: 1;\n        }\n\n        .form-group {\n          margin-bottom: 16px;\n        }\n\n        .form-label {\n          display: block;\n          margin-bottom: 6px;\n          font-weight: 600;\n          color: #374151;\n          font-size: 14px;\n        }\n\n        .helper-text {\n          display: block;\n          font-size: 12px;\n          color: #6b7280;\n          font-weight: normal;\n          margin-top: 2px;\n        }\n\n        .form-input {\n          width: 100%;\n          padding: 10px 12px;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 14px;\n          transition: border-color 0.2s;\n        }\n\n        .form-input:focus {\n          outline: none;\n          border-color: #3b82f6;\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n        }\n\n        .form-actions {\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n          margin-top: 24px;\n          padding-top: 20px;\n          border-top: 1px solid #e5e7eb;\n        }\n\n        .btn {\n          padding: 12px 24px;\n          border: none;\n          border-radius: 6px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s;\n          font-size: 14px;\n        }\n\n        .btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .btn-cancel {\n          background: #f3f4f6;\n          color: #374151;\n        }\n\n        .btn-cancel:hover:not(:disabled) {\n          background: #e5e7eb;\n        }\n\n        .btn-submit {\n          background: #3b82f6;\n          color: white;\n        }\n\n        .btn-submit:hover:not(:disabled) {\n          background: #2563eb;\n        }\n\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 20px;\n          margin-bottom: 30px;\n        }\n\n        .stat-card.orange {\n          background: linear-gradient(135deg, #fed7aa 0%, #fb923c 100%);\n          color: white;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 922,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n}\n_s(DoctorDashboard, \"srcaedkhbgYMDpVV0L3dCgUgeQQ=\");\n_c = DoctorDashboard;\nvar _c;\n$RefreshReg$(_c, \"DoctorDashboard\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","DoctorDashboard","_s","patients","setPatients","loading","setLoading","error","setError","editingPatient","setEditingPatient","showEditModal","setShowEditModal","familyHistory","setFamilyHistory","familyMembers","setFamilyMembers","familySummary","setFamilySummary","saving","setSaving","loadingHistory","setLoadingHistory","token","localStorage","getItem","fetchPatients","console","log","response","fetch","headers","ok","Error","status","data","json","err","fetchFamilyHistoryByPhone","phoneNumber","medical_history","family_members","family_summary","updatePatient","e","preventDefault","id","method","body","JSON","stringify","name","age","gender","phone_number","relationship","diagnosis","medical_notes","prescriptions","last_checkup","next_appointment","errorData","text","result","alert","message","handleEdit","patient","Date","toISOString","split","handleCloseModal","handleInputChange","value","target","getRelationshipEmoji","emojis","getRelationshipDisplay","displays","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","removeItem","window","location","href","style","background","color","border","padding","borderRadius","fontSize","fontWeight","cursor","boxShadow","transition","position","top","right","zIndex","onMouseOver","transform","onMouseOut","length","filter","p","updated_at","toDateString","marginTop","marginBottom","textAlign","backgroundColor","map","hasHistory","toLocaleDateString","patientHistory","familyData","historyResponse","familyResponse","allHistory","newTab","open","document","write","visit","index","isCurrentRecord","join","member","has_history","total_visits","width","height","display","alignItems","justifyContent","unique_members","history","visit_date","patient_name","doctor_name","onSubmit","onChange","placeholder","rows","required","type","min","disabled","jsx","_c","$RefreshReg$"],"sources":["/Users/sathwik/hospital-portal/frontend/src/pages/DoctorDashboard.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nexport default function DoctorDashboard() {\n  const [patients, setPatients] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [familyHistory, setFamilyHistory] = useState([]);\n  const [familyMembers, setFamilyMembers] = useState([]);\n  const [familySummary, setFamilySummary] = useState({});\n  const [saving, setSaving] = useState(false);\n  const [loadingHistory, setLoadingHistory] = useState(false);\n  const token = localStorage.getItem('token');\n\n  // Fetch patients\n  const fetchPatients = async () => {\n    try {\n      setLoading(true);\n      console.log('Fetching patients...');\n      const response = await fetch('http://localhost:8080/api/patients', {\n        headers: { \n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      console.log('Patients fetched:', data);\n      setPatients(data || []);\n      setError('');\n    } catch (err) {\n      setError('Failed to load patients');\n      console.error('Error fetching patients:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch complete family history by phone number\n  const fetchFamilyHistoryByPhone = async (phoneNumber) => {\n    try {\n      setLoadingHistory(true);\n      console.log(`Fetching complete family history for phone ${phoneNumber}...`);\n      const response = await fetch(`http://localhost:8080/api/patients/phone/${phoneNumber}/family-history`, {\n        headers: { \n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        console.log('Complete family history:', data);\n        setFamilyHistory(data.medical_history || []);\n        setFamilyMembers(data.family_members || []);\n        setFamilySummary(data.family_summary || {});\n      } else {\n        console.log('No family history found');\n        setFamilyHistory([]);\n        setFamilyMembers([]);\n        setFamilySummary({});\n      }\n    } catch (err) {\n      console.error('Failed to fetch family history:', err);\n      setFamilyHistory([]);\n      setFamilyMembers([]);\n      setFamilySummary({});\n    } finally {\n      setLoadingHistory(false);\n    }\n  };\n\n  // Update patient\n  const updatePatient = async (e) => {\n    e.preventDefault();\n    setSaving(true);\n    \n    try {\n      console.log('Updating patient:', editingPatient);\n      \n      const response = await fetch(`http://localhost:8080/api/patients/${editingPatient.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          name: editingPatient.name,\n          age: editingPatient.age,\n          gender: editingPatient.gender,\n          phone_number: editingPatient.phone_number,\n          relationship: editingPatient.relationship,\n          diagnosis: editingPatient.diagnosis || '',\n          medical_notes: editingPatient.medical_notes || '',\n          prescriptions: editingPatient.prescriptions || '',\n          last_checkup: editingPatient.last_checkup || '',\n          next_appointment: editingPatient.next_appointment || ''\n        }),\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.text();\n        throw new Error(`Failed to update patient: ${errorData}`);\n      }\n      \n      const result = await response.json();\n      console.log('Update result:', result);\n      \n      // Refresh patient list and family history\n      await fetchPatients();\n      await fetchFamilyHistoryByPhone(editingPatient.phone_number);\n      \n      alert('‚úÖ Patient medical record updated successfully!');\n    } catch (err) {\n      alert(`‚ùå Error updating patient: ${err.message}`);\n      console.error('Update error:', err);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Open edit modal\n  const handleEdit = async (patient) => {\n    console.log('Editing patient:', patient);\n    setEditingPatient({\n      ...patient,\n      medical_notes: patient.medical_notes || '',\n      prescriptions: patient.prescriptions || '',\n      last_checkup: patient.last_checkup || new Date().toISOString().split('T')[0],\n      next_appointment: patient.next_appointment || ''\n    });\n    \n    // Fetch complete family history by phone number\n    await fetchFamilyHistoryByPhone(patient.phone_number);\n    setShowEditModal(true);\n  };\n\n  // Close edit modal\n  const handleCloseModal = () => {\n    setShowEditModal(false);\n    setEditingPatient(null);\n    setFamilyHistory([]);\n    setFamilyMembers([]);\n    setFamilySummary({});\n  };\n\n  // Handle input changes\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setEditingPatient({\n      ...editingPatient,\n      [name]: value,\n    });\n  };\n\n  // Get relationship emoji\n  const getRelationshipEmoji = (relationship) => {\n    const emojis = {\n      'self': 'üë§',\n      'son': 'üë¶',\n      'daughter': 'üëß',\n      'mother': 'üë©',\n      'father': 'üë®',\n      'spouse': 'üíë',\n      'brother': 'üë¶',\n      'sister': 'üëß',\n      'grandfather': 'üë¥',\n      'grandmother': 'üëµ',\n      'other': 'üë•'\n    };\n    return emojis[relationship] || 'üë§';\n  };\n\n  // Get relationship display name\n  const getRelationshipDisplay = (relationship) => {\n    const displays = {\n      'self': 'Self',\n      'son': 'Son',\n      'daughter': 'Daughter',\n      'mother': 'Mother',\n      'father': 'Father',\n      'spouse': 'Spouse',\n      'brother': 'Brother',\n      'sister': 'Sister',\n      'grandfather': 'Grandfather',\n      'grandmother': 'Grandmother',\n      'other': 'Other'\n    };\n    return displays[relationship] || 'Unknown';\n  };\n\n  useEffect(() => {\n    fetchPatients();\n  }, []);\n\n  return (\n    <div className=\"content\">\n      <div className=\"content-card\">\n        <div className=\"dashboard-header\">\n          <h1 className=\"dashboard-title\">üë®‚Äç‚öïÔ∏è Doctor Dashboard</h1>\n          <p className=\"dashboard-subtitle\">Review and update patient medical records with family history tracking</p>\n        </div>\n       <button\n      onClick={() => {\n        localStorage.removeItem(\"token\")\n        localStorage.removeItem(\"user\")\n        window.location.href = \"/login\"\n      }}\n      style={{\n        background: \"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)\",\n        color: \"white\",\n        border: \"none\",\n        padding: \"10px 20px\",\n        borderRadius: \"8px\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\",\n        cursor: \"pointer\",\n        boxShadow: \"0 2px 4px rgba(239, 68, 68, 0.3)\",\n        transition: \"all 0.2s ease\",\n        position: \"absolute\",\n        top: \"20px\",\n        right: \"20px\",\n        zIndex: 1000\n      }}\n      onMouseOver={(e) => {\n        e.target.style.transform = \"translateY(-1px)\"\n        e.target.style.boxShadow = \"0 4px 8px rgba(239, 68, 68, 0.4)\"\n      }}\n      onMouseOut={(e) => {\n        e.target.style.transform = \"translateY(0)\"\n        e.target.style.boxShadow = \"0 2px 4px rgba(239, 68, 68, 0.3)\"\n      }}\n    >\n      üö™ Logout\n    </button>\n\n        {/* Enhanced Stats cards */}\n        <div className=\"stats-grid\">\n          <div className=\"stat-card green\">\n            <div className=\"stat-info\">\n              <h3>Total Patients</h3>\n              <p>{patients.length}</p>\n            </div>\n            <div className=\"stat-icon\">üë•</div>\n          </div>\n          \n          <div className=\"stat-card blue\">\n            <div className=\"stat-info\">\n              <h3>Active Cases</h3>\n              <p>{patients.filter(p => p.diagnosis && p.diagnosis !== 'None specified' && p.diagnosis !== '').length}</p>\n            </div>\n            <div className=\"stat-icon\">üìã</div>\n          </div>\n          \n          <div className=\"stat-card purple\">\n            <div className=\"stat-info\">\n              <h3>Family Patients</h3>\n              <p>{patients.filter(p => p.relationship !== 'self').length}</p>\n            </div>\n            <div className=\"stat-icon\">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>\n          </div>\n\n          <div className=\"stat-card orange\">\n            <div className=\"stat-info\">\n              <h3>Today's Updates</h3>\n              <p>{patients.filter(p => p.updated_at && new Date(p.updated_at).toDateString() === new Date().toDateString()).length}</p>\n            </div>\n            <div className=\"stat-icon\">ü©∫</div>\n          </div>\n        </div>\n\n        {/* Patient Records */}\n        <div style={{ marginTop: '40px' }}>\n          <h2 style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '16px' }}>\n            üìã Patient Records\n          </h2>\n          <p style={{ color: '#6b7280', marginBottom: '24px' }}>\n            Click on any patient to view their complete family medical history and update current condition\n          </p>\n\n          {loading && (\n            <div style={{ textAlign: 'center', padding: '40px' }}>\n              <p>üîÑ Loading patients...</p>\n            </div>\n          )}\n          \n          {error && (\n            <div style={{ textAlign: 'center', padding: '40px' }}>\n              <p className=\"error-message\">‚ùå {error}</p>\n              <button \n                onClick={fetchPatients}\n                style={{ \n                  marginTop: '10px', \n                  padding: '8px 16px', \n                  backgroundColor: '#3b82f6', \n                  color: 'white', \n                  border: 'none', \n                  borderRadius: '4px',\n                  cursor: 'pointer'\n                }}\n              >\n                üîÑ Retry\n              </button>\n            </div>\n          )}\n\n          {!loading && !error && (\n            <>\n              {patients.length === 0 ? (\n                <div style={{ textAlign: 'center', padding: '40px' }}>\n                  <p>üì≠ No patients found.</p>\n                </div>\n              ) : (\n                <div className=\"patient-grid\">\n                  {patients.map((patient) => {\n                    const hasHistory = patient.medical_history && patient.medical_history.length > 0;\n                    return (\n                      <div key={patient.id} className={`patient-card ${hasHistory ? 'returning-patient' : 'new-patient'}`}>\n                        <div className=\"patient-header\">\n                          <h3 className=\"patient-name\">\n                            {getRelationshipEmoji(patient.relationship)} {patient.name}\n                          </h3>\n                          <div className=\"patient-badges\">\n                            <span className=\"patient-id\">ID: {patient.id}</span>\n                            <span className=\"relationship-badge\">\n                              {getRelationshipDisplay(patient.relationship)}\n                            </span>\n                            {hasHistory && <span className=\"returning-badge\">üîÑ Has History</span>}\n                          </div>\n                        </div>\n                        \n                        <div className=\"patient-details\">\n                          <div className=\"patient-detail\">\n                            üë§ Age: {patient.age} years | Gender: {patient.gender}\n                          </div>\n                          <div className=\"patient-detail\">\n                            üìû Phone: {patient.phone_number}\n                          </div>\n                          <div className=\"patient-detail relationship-info\">\n                            üë• Relationship: {getRelationshipDisplay(patient.relationship)}\n                          </div>\n                          <div className=\"patient-detail\">\n                            üè• Current Diagnosis: {patient.diagnosis || 'None specified'}\n                          </div>\n                          {patient.prescriptions && (\n                            <div className=\"patient-detail\">\n                              üíä Current Medications: {patient.prescriptions}\n                            </div>\n                          )}\n                          {patient.last_checkup && (\n                            <div className=\"patient-detail\">\n                              üóìÔ∏è Last Checkup: {patient.last_checkup}\n                            </div>\n                          )}\n                          {hasHistory && (\n                            <div className=\"patient-detail history-indicator\">\n                              üìö Previous Visits: {patient.medical_history.length}\n                            </div>\n                          )}\n                          {patient.updated_at && (\n                            <div className=\"patient-detail\">\n                              ‚è∞ Last Updated: {new Date(patient.updated_at).toLocaleDateString()}\n                            </div>\n                          )}\n                        </div>\n                        \n                        <div className=\"patient-actions\">\n                          <button \n                            className=\"btn btn-edit\"\n                           // onClick={() => handleEdit(patient)}\n                           onClick={async () => {\n  try {\n    const token = localStorage.getItem('token');\n    let patientHistory = [];\n    let familyData = { family_members: [], medical_history: [], family_summary: {} };\n    \n    console.log('Patient data:', patient);\n    \n    // Try to get individual patient history first\n    if (token) {\n      try {\n        console.log('Fetching individual patient history for ID:', patient.id);\n        const historyResponse = await fetch(`http://localhost:8080/api/patients/${patient.id}/history`, {\n          headers: { \n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        \n        if (historyResponse.ok) {\n          patientHistory = await historyResponse.json();\n          console.log('Individual patient history:', patientHistory);\n        }\n      } catch (error) {\n        console.log('Individual history API not available, trying family API');\n      }\n      \n      // Also try family API\n      if (patient.phone_number) {\n        try {\n          const familyResponse = await fetch(`http://localhost:8080/api/patients/family/${patient.phone_number}`, {\n            headers: { \n              'Authorization': `Bearer ${token}`,\n              'Content-Type': 'application/json'\n            }\n          });\n          \n          if (familyResponse.ok) {\n            familyData = await familyResponse.json();\n            console.log('Family data:', familyData);\n          }\n        } catch (error) {\n          console.log('Family API error:', error);\n        }\n      }\n    }\n    \n    // Combine all medical history\n    const allHistory = [\n      ...patientHistory,\n      ...(familyData.medical_history || [])\n    ];\n    \n    console.log('Combined history:', allHistory);\n    \n    // Now open the new tab with all the data\n    const newTab = window.open('', '_blank');\n    newTab.document.write(`\n      <html>\n        <head>\n          <title>Medical Record - ${patient.name}</title>\n          <style>\n            body { \n              font-family: Arial, sans-serif; \n              padding: 20px; \n              background-color: #f5f7fa;\n              margin: 0;\n            }\n            .header {\n              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n              color: white;\n              padding: 20px;\n              border-radius: 8px;\n              margin-bottom: 20px;\n              display: flex;\n              justify-content: space-between;\n              align-items: center;\n            }\n            .container {\n              max-width: 1200px;\n              margin: 0 auto;\n            }\n            .form-group { \n              margin-bottom: 20px; \n              background: white;\n              padding: 15px;\n              border-radius: 8px;\n              box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n            }\n            .two-columns {\n              display: grid;\n              grid-template-columns: 1fr 1fr;\n              gap: 20px;\n            }\n            h1 { margin: 0; }\n            h2 { \n              margin-top: 0;\n              color: #4338ca;\n              border-bottom: 1px solid #e5e7eb;\n              padding-bottom: 10px;\n            }\n            label { \n              display: block; \n              margin-bottom: 8px; \n              font-weight: bold;\n              color: #4b5563;\n            }\n            input, textarea { \n              width: 100%; \n              padding: 12px; \n              border: 1px solid #e5e7eb; \n              border-radius: 6px;\n              font-size: 16px;\n              box-sizing: border-box;\n            }\n            textarea {\n              min-height: 120px;\n            }\n            .buttons {\n              display: flex;\n              gap: 10px;\n              margin-top: 20px;\n            }\n            button { \n              padding: 12px 24px; \n              border: none; \n              border-radius: 6px; \n              cursor: pointer;\n              font-weight: bold;\n              font-size: 16px;\n            }\n            .save-btn { \n              background: #10b981; \n              color: white; \n            }\n            .cancel-btn { \n              background: #ef4444; \n              color: white; \n            }\n            .visit-history {\n              background: #f8fafc;\n              border-radius: 6px;\n              padding: 15px;\n              margin-bottom: 15px;\n              border-left: 4px solid #3b82f6;\n            }\n            .current-record {\n              background: #ecfdf5;\n              border-left: 4px solid #10b981;\n            }\n            .debug-info {\n              background: #fef3c7;\n              border: 1px solid #f59e0b;\n              border-radius: 6px;\n              padding: 10px;\n              margin-bottom: 10px;\n              font-family: monospace;\n              font-size: 12px;\n            }\n          </style>\n        </head>\n        <body>\n          <div class=\"header\">\n            <h1>üìù Medical Record - ${patient.name}</h1>\n            <button class=\"cancel-btn\" onclick=\"window.close()\">‚ùå Close</button>\n          </div>\n          <div class=\"container\">\n            \n            <div class=\"two-columns\">\n              <!-- Left Column -->\n              <div>\n                <div class=\"form-group\">\n                  <h2>üë§ Patient Information</h2>\n                  <p><strong>Name:</strong> ${patient.name}</p>\n                  <p><strong>Age:</strong> ${patient.age} years</p>\n                  <p><strong>Gender:</strong> ${patient.gender || 'Not specified'}</p>\n                  <p><strong>Phone:</strong> ${patient.phone_number || 'Not provided'}</p>\n                  <p><strong>Relationship:</strong> ${patient.relationship || 'Self'}</p>\n                  <p><strong>Patient ID:</strong> ${patient.id}</p>\n                </div>\n                \n                <div class=\"form-group\">\n                  <h2>ü©∫ Medical Visit History</h2>\n                  <div id=\"visitHistory\">\n                    ${allHistory && allHistory.length > 0\n                      ? allHistory.map((visit, index) => {\n                          const isCurrentRecord = visit.id === patient.id || index === allHistory.length - 1;\n                          return `<div class=\"visit-history ${isCurrentRecord ? 'current-record' : ''}\">\n                            <p><strong>üìÖ Date:</strong> ${visit.updated_at ? new Date(visit.updated_at).toLocaleDateString() : 'Not specified'}</p>\n                            <p><strong>üè• Diagnosis:</strong> ${visit.diagnosis || 'None'}</p>\n                            <p><strong>üìù Notes:</strong> ${visit.medical_notes || 'None'}</p>\n                            <p><strong>üíä Prescriptions:</strong> ${visit.prescriptions || 'None'}</p>\n                            <p><strong>üìÖ Next Appointment:</strong> ${visit.next_appointment || 'Not scheduled'}</p>\n                            ${isCurrentRecord ? '<p><em>üü¢ Current Record</em></p>' : ''}\n                          </div>`;\n                        }).join('')\n                      : `<div class=\"visit-history\">\n                          <p><strong>üìÖ Current Visit</strong></p>\n                          <p><strong>üè• Diagnosis:</strong> ${patient.diagnosis || 'None'}</p>\n                          <p><strong>üìù Notes:</strong> ${patient.medical_notes || 'None'}</p>\n                          <p><strong>üíä Prescriptions:</strong> ${patient.prescriptions || 'None'}</p>\n                          <p><strong>üìÖ Last Checkup:</strong> ${patient.last_checkup || 'Not specified'}</p>\n                          <p><em>üü¢ This is the first/current record</em></p>\n                        </div>`\n                    }\n                  </div>\n                </div>\n                \n                <div class=\"form-group\">\n                  <h2>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family Members</h2>\n                  <div>\n                    ${familyData.family_members && familyData.family_members.length > 0\n                      ? familyData.family_members.map(member => \n                          `<p>üë§ <strong>${member.name}</strong> (${member.relationship || 'Unknown'}) - Age: ${member.age}</p>`\n                        ).join('')\n                      : '<p>No other family members found using this phone number.</p>'\n                    }\n                  </div>\n                </div>\n              </div>\n              \n              <!-- Right Column -->\n              <div>\n                <div class=\"form-group\">\n                  <h2>üè• Current Diagnosis</h2>\n                  <input type=\"text\" id=\"diagnosis\" value=\"${patient.diagnosis || ''}\" />\n                </div>\n                \n                <div class=\"form-group\">\n                  <h2>üìù Medical Notes</h2>\n                  <textarea id=\"medical_notes\">${patient.medical_notes || ''}</textarea>\n                </div>\n                \n                <div class=\"form-group\">\n                  <h2>üíä Prescriptions</h2>\n                  <textarea id=\"prescriptions\">${patient.prescriptions || ''}</textarea>\n                </div>\n                \n                <div class=\"form-group\">\n                  <h2>üìÖ Appointment Information</h2>\n                  <label>Next Checkup Date:</label>\n                  <input type=\"date\" id=\"next_appointment\" value=\"${patient.next_appointment || ''}\" />\n                </div>\n                \n                <div class=\"buttons\">\n                  <button type=\"button\" class=\"save-btn\" onclick=\"saveRecord()\">üíæ Save Record</button>\n                  <button type=\"button\" class=\"cancel-btn\" onclick=\"window.close()\">‚ùå Cancel</button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <script>\n            function saveRecord() {\n              const data = {\n                diagnosis: document.getElementById('diagnosis').value,\n                medical_notes: document.getElementById('medical_notes').value,\n                prescriptions: document.getElementById('prescriptions').value,\n                next_appointment: document.getElementById('next_appointment').value\n              };\n              \n              alert('Record saved successfully!');\n              window.close();\n            }\n          </script>\n        </body>\n      </html>\n    `);\n  } catch (error) {\n    console.error('Error fetching patient data:', error);\n    alert('Error loading patient data: ' + error.message);\n  }\n}}\n                                \n                          >\n                            {hasHistory ? 'üìö View Family History & Update' : '‚úèÔ∏è Add First Medical Record'}\n                          </button>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n\n        {/* Enhanced Edit Modal with Family History */}\n        {showEditModal && editingPatient && (\n          <div className=\"modal-overlay\">\n            <div className=\"modal-content family-modal\">\n              <div className=\"modal-header\">\n                <div className=\"patient-info-header\">\n                  <h2 className=\"modal-title\">\n                    ü©∫ Medical Record - {getRelationshipEmoji(editingPatient.relationship)} {editingPatient.name}\n                  </h2>\n                  <div className=\"patient-status\">\n                    {familySummary.has_history ? (\n                      <span className=\"status-badge family-history\">\n                        üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family History ({familySummary.total_visits} total visits)\n                      </span>\n                    ) : (\n                      <span className=\"status-badge new-family\">\n                        ‚ú® New Family (First Visit)\n                      </span>\n                    )}\n                  </div>\n                </div>\n                <p className=\"modal-subtitle\">\n                  üìû Phone: {editingPatient.phone_number} | üë• Relationship: {getRelationshipDisplay(editingPatient.relationship)} | \n                  üë§ Age: {editingPatient.age} | Gender: {editingPatient.gender}\n                </p>\n                {/* <button \n                  className=\"modal-close\"\n                  onClick={handleCloseModal}\n                  style={{\n                    position: 'absolute',\n                    top: '16px',\n                    right: '16px',\n                    background: 'none',\n                    border: 'none',\n                    fontSize: '24px',\n                    cursor: 'pointer',\n                    color: '#6b7280'\n                  }}\n                >\n                  ‚úï\n                </button> */}\n                <button \n              className=\"modal-close\"\n              onClick={handleCloseModal}\n              style={{\n                position: 'absolute',\n                top: '16px',\n                right: '16px',\n                background: 'rgba(239, 68, 68, 0.1)',\n                border: '1px solid rgba(239, 68, 68, 0.3)',\n                borderRadius: '50%',\n                width: '36px',\n                height: '36px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '24px',\n                fontWeight: 'bold',\n                cursor: 'pointer',\n                color: '#ef4444',\n                zIndex: 1001\n              }}\n                >\n                  ‚úï\n                </button>\n              </div>\n              \n              <div className=\"modal-body\">\n                {/* Family History Section */}\n                <div className=\"history-section\">\n                  <h3 className=\"section-title\">\n                    üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family Medical History \n                    {familySummary.has_history && (\n                      <span className=\"visit-count\">\n                        ({familySummary.unique_members} members, {familySummary.total_visits} visits)\n                      </span>\n                    )}\n                  </h3>\n                  \n                  {loadingHistory ? (\n                    <div className=\"loading-history\">üîÑ Loading family history...</div>\n                  ) : (\n                    <>\n                      {/* Family Members Summary */}\n                      {familyMembers.length > 1 && (\n                        <div className=\"family-members-section\">\n                          <h4 className=\"subsection-title\">üë• Family Members Using This Phone</h4>\n                          <div className=\"family-members-grid\">\n                            {familyMembers.map((member, index) => (\n                              <div key={member.id} className={`family-member-card ${member.id === editingPatient.id ? 'current-patient' : ''}`}>\n                                <div className=\"member-info\">\n                                  <span className=\"member-name\">\n                                    {getRelationshipEmoji(member.relationship)} {member.name}\n                                  </span>\n                                  <span className=\"member-details\">\n                                    {getRelationshipDisplay(member.relationship)} | Age: {member.age}\n                                  </span>\n                                  {member.id === editingPatient.id && (\n                                    <span className=\"current-badge\">Current Patient</span>\n                                  )}\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      )}\n\n                      {/* Medical Visit History */}\n                      {familyHistory.length > 0 ? (\n                        <div className=\"history-list\">\n                          <h4 className=\"subsection-title\">ü©∫ Medical Visit History</h4>\n                          {familyHistory.map((history, index) => (\n                            <div key={history.id || index} className=\"history-item\">\n                              <div className=\"history-header\">\n                                <div className=\"visit-info\">\n                                  <span className=\"visit-date\">\n                                    üóìÔ∏è {new Date(history.visit_date).toLocaleDateString()} \n                                    {new Date(history.visit_date).toDateString() === new Date().toDateString() && \n                                      <span className=\"today-badge\">Today</span>\n                                    }\n                                  </span>\n                                  <span className=\"patient-info\">\n                                    {getRelationshipEmoji(history.relationship)} {history.patient_name} \n                                    ({getRelationshipDisplay(history.relationship)}, Age: {history.age})\n                                  </span>\n                                </div>\n                                <span className=\"doctor-name\">\n                                  üë®‚Äç‚öïÔ∏è {history.doctor_name}\n                                </span>\n                              </div>\n                              <div className=\"history-details\">\n                                {history.diagnosis && (\n                                  <p><strong>üè• Diagnosis:</strong> {history.diagnosis}</p>\n                                )}\n                                {history.medical_notes && (\n                                  <p><strong>üìù Notes:</strong> {history.medical_notes}</p>\n                                )}\n                                {history.prescriptions && (\n                                  <p><strong>üíä Prescriptions:</strong> {history.prescriptions}</p>\n                                )}\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      ) : (\n                        <div className=\"no-history\">\n                          <div className=\"no-history-icon\">üìù</div>\n                          <p>No previous medical history found for this phone number.</p>\n                          <p>This will be the first medical record for this family.</p>\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n\n                {/* Current Update Form */}\n                <div className=\"update-section\">\n                  <h3 className=\"section-title\">\n                    ü©∫ Current Visit - {getRelationshipEmoji(editingPatient.relationship)} {editingPatient.name}\n                    <span className=\"patient-relationship\">({getRelationshipDisplay(editingPatient.relationship)})</span>\n                  </h3>\n                  <form onSubmit={updatePatient}>\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">\n                        üè• Current Diagnosis *\n                        <span className=\"helper-text\">What is the current medical condition or complaint?</span>\n                      </label>\n                      <textarea\n                        name=\"diagnosis\"\n                        className=\"form-input\"\n                        value={editingPatient.diagnosis || ''}\n                        onChange={handleInputChange}\n                        placeholder=\"e.g., Cough, Cold, Fever, Headache...\"\n                        rows=\"3\"\n                        required\n                      />\n                    </div>\n                    \n                    <div className=\"form-group\">\n                      <label className=\"form-label\">\n                        üìù Medical Notes\n                        <span className=\"helper-text\">Detailed observations, symptoms, examination findings</span>\n                      </label>\n                      <textarea\n                        name=\"medical_notes\"\n                        className=\"form-input\"\n                        value={editingPatient.medical_notes || ''}\n                        onChange={handleInputChange}\n                        placeholder=\"Enter detailed medical notes, observations, symptoms, examination findings...\"\n                        rows=\"4\"\n                      />\n                    </div>\n                    \n                    <div className=\"form-group\">\n                      <label className=\"form-label\">\n                        üíä Prescriptions\n                        <span className=\"helper-text\">Medications with dosage and frequency</span>\n                      </label>\n                      <textarea\n                        name=\"prescriptions\"\n                        className=\"form-input\"\n                        value={editingPatient.prescriptions || ''}\n                        onChange={handleInputChange}\n                        placeholder=\"e.g., Paracetamol 500mg - 2 times daily after meals&#10;Amoxicillin 250mg - 3 times daily for 7 days\"\n                        rows=\"3\"\n                      />\n                    </div>\n                    \n                    <div className=\"form-row\">\n                      <div className=\"form-group\">\n                        <label className=\"form-label\">üìÖ Checkup Date</label>\n                        <input\n                          type=\"date\"\n                          name=\"last_checkup\"\n                          className=\"form-input\"\n                          value={editingPatient.last_checkup || ''}\n                          onChange={handleInputChange}\n                        />\n                      </div>\n                      \n                      <div className=\"form-group\">\n                        <label className=\"form-label\">üóìÔ∏è Next Appointment</label>\n                        <input\n                          type=\"date\"\n                          name=\"next_appointment\"\n                          className=\"form-input\"\n                          value={editingPatient.next_appointment || ''}\n                          onChange={handleInputChange}\n                          min={new Date().toISOString().split('T')[0]}\n                        />\n                      </div>\n                    </div>\n                    \n                    <div className=\"form-actions\">\n                      <button \n                        type=\"button\" \n                        className=\"btn btn-cancel\"\n                        onClick={handleCloseModal}\n                        disabled={saving}\n                      >\n                        Cancel\n                      </button>\n                      <button \n                        type=\"submit\" \n                        className=\"btn btn-submit\"\n                        disabled={saving}\n                      >\n                        {saving ? 'üíæ Saving...' : 'üíæ Save Medical Record'}\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Enhanced Styles */}\n      <style jsx>{`\n        .family-modal .modal-content {\n          max-width: 1300px;\n          max-height: 97vh;\n          overflow-y: auto;\n          position: relative;\n        //   max-width: 98vw;    // Almost full viewport width\n        // max-height: 98vh;   // Almost full viewport height\n        // width: 98vw;        // Add this line\n        // height: 98vh;       // Add this line\n        // overflow-y: auto;\n        // position: relative;\n        }\n\n        .patient-info-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n\n        .patient-status {\n          display: flex;\n          gap: 8px;\n        }\n\n        .status-badge {\n          padding: 6px 12px;\n          border-radius: 20px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n\n        .status-badge.family-history {\n          background: #dbeafe;\n          color: #1e40af;\n        }\n\n        .status-badge.new-family {\n          background: #dcfce7;\n          color: #166534;\n        }\n\n        .returning-patient {\n          border-left: 4px solid #3b82f6;\n        }\n\n        .new-patient {\n          border-left: 4px solid #10b981;\n        }\n\n        .patient-badges {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n          gap: 4px;\n        }\n\n        .relationship-badge {\n          background: #f3e8ff;\n          color: #7c3aed;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n\n        .returning-badge {\n          background: #dbeafe;\n          color: #1e40af;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n\n        .relationship-info {\n          background: #f3e8ff;\n          color: #7c3aed;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-weight: 500;\n        }\n\n        .history-indicator {\n          background: #f0f9ff;\n          color: #0369a1;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-weight: 500;\n        }\n\n        .modal-body {\n          display: flex;\n          gap: 30px;\n          padding: 20px;\n        }\n\n        .history-section {\n          flex: 1.3;\n          border-right: 1px solid #e5e7eb;\n          padding-right: 20px;\n        }\n\n        .update-section {\n          flex: 1;\n          padding-left: 20px;\n        }\n\n        .section-title {\n          font-size: 18px;\n          font-weight: bold;\n          margin-bottom: 16px;\n          color: #374151;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .visit-count {\n          font-size: 14px;\n          color: #6b7280;\n          font-weight: normal;\n        }\n\n        .patient-relationship {\n          font-size: 14px;\n          color: #7c3aed;\n          font-weight: normal;\n        }\n\n        .subsection-title {\n          font-size: 16px;\n          font-weight: 600;\n          margin: 16px 0 12px 0;\n          color: #4b5563;\n        }\n\n        .loading-history {\n          text-align: center;\n          padding: 40px;\n          color: #6b7280;\n        }\n\n        .family-members-section {\n          margin-bottom: 24px;\n        }\n\n        .family-members-grid {\n          display: grid;\n          gap: 8px;\n          margin-bottom: 16px;\n        }\n\n        .family-member-card {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 12px;\n        }\n\n        .current-patient {\n          background: #dbeafe;\n          border-color: #3b82f6;\n        }\n\n        .member-info {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .member-name {\n          font-weight: 600;\n          color: #374151;\n        }\n\n        .member-details {\n          font-size: 12px;\n          color: #6b7280;\n        }\n\n        .current-badge {\n          background: #3b82f6;\n          color: white;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 10px;\n          font-weight: 600;\n        }\n\n        .history-list {\n          max-height: 500px;\n          overflow-y: auto;\n        }\n\n        .history-item {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 16px;\n          margin-bottom: 12px;\n        }\n\n        .history-header {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 8px;\n          font-size: 14px;\n          color: #6b7280;\n        }\n\n        .visit-info {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .patient-info {\n          font-weight: 500;\n          color: #374151;\n        }\n\n        .today-badge {\n          background: #fef3c7;\n          color: #92400e;\n          padding: 2px 6px;\n          border-radius: 8px;\n          font-size: 10px;\n          margin-left: 8px;\n        }\n\n        .history-details p {\n          margin: 6px 0;\n          font-size: 14px;\n          line-height: 1.4;\n        }\n\n        .no-history {\n          text-align: center;\n          padding: 40px;\n          background: #f9fafb;\n          border-radius: 8px;\n          border: 2px dashed #d1d5db;\n        }\n\n        .no-history-icon {\n          font-size: 48px;\n          margin-bottom: 16px;\n        }\n\n        .no-history p {\n          color: #6b7280;\n          margin: 8px 0;\n        }\n\n        .form-row {\n          display: flex;\n          gap: 16px;\n        }\n\n        .form-row .form-group {\n          flex: 1;\n        }\n\n        .form-group {\n          margin-bottom: 16px;\n        }\n\n        .form-label {\n          display: block;\n          margin-bottom: 6px;\n          font-weight: 600;\n          color: #374151;\n          font-size: 14px;\n        }\n\n        .helper-text {\n          display: block;\n          font-size: 12px;\n          color: #6b7280;\n          font-weight: normal;\n          margin-top: 2px;\n        }\n\n        .form-input {\n          width: 100%;\n          padding: 10px 12px;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 14px;\n          transition: border-color 0.2s;\n        }\n\n        .form-input:focus {\n          outline: none;\n          border-color: #3b82f6;\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n        }\n\n        .form-actions {\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n          margin-top: 24px;\n          padding-top: 20px;\n          border-top: 1px solid #e5e7eb;\n        }\n\n        .btn {\n          padding: 12px 24px;\n          border: none;\n          border-radius: 6px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s;\n          font-size: 14px;\n        }\n\n        .btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .btn-cancel {\n          background: #f3f4f6;\n          color: #374151;\n        }\n\n        .btn-cancel:hover:not(:disabled) {\n          background: #e5e7eb;\n        }\n\n        .btn-submit {\n          background: #3b82f6;\n          color: white;\n        }\n\n        .btn-submit:hover:not(:disabled) {\n          background: #2563eb;\n        }\n\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 20px;\n          margin-bottom: 30px;\n        }\n\n        .stat-card.orange {\n          background: linear-gradient(135deg, #fed7aa 0%, #fb923c 100%);\n          color: white;\n        }\n      `}</style>\n    </div>\n  );\n}"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsCgB,OAAO,CAAChB,IAAI;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8CgB,OAAO,CAAChB,IAAI;AAC1D,6CAA6CgB,OAAO,CAACf,GAAG;AACxD,gDAAgDe,OAAO,CAACd,MAAM,IAAI,eAAe;AACjF,+CAA+Cc,OAAO,CAACb,YAAY,IAAI,cAAc;AACrF,sDAAsDa,OAAO,CAACZ,YAAY,IAAI,MAAM;AACpF,oDAAoDY,OAAO,CAACrB,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA,sBAAsB8E,UAAU,IAAIA,UAAU,CAAChB,MAAM,GAAG,CAAC,GACjCgB,UAAU,CAACP,GAAG,CAAC,CAACY,KAAK,EAAEC,KAAK,KAAK;0BAC/B,MAAMC,eAAe,GAAGF,KAAK,CAACnF,EAAE,KAAKqB,OAAO,CAACrB,EAAE,IAAIoF,KAAK,KAAKN,UAAU,CAAChB,MAAM,GAAG,CAAC;0BAClF,OAAO,6BAA6BuB,eAAe,GAAG,gBAAgB,GAAG,EAAE;AACrG,2DAA2DF,KAAK,CAAClB,UAAU,GAAG,IAAI3C,IAAI,CAAC6D,KAAK,CAAClB,UAAU,CAAC,CAACQ,kBAAkB,CAAC,CAAC,GAAG,eAAe;AAC/I,gEAAgEU,KAAK,CAACzE,SAAS,IAAI,MAAM;AACzF,4DAA4DyE,KAAK,CAACxE,aAAa,IAAI,MAAM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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV;AAAClF,EAAA,CA3vCuBD,eAAe;AAAA0J,EAAA,GAAf1J,eAAe;AAAA,IAAA0J,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}