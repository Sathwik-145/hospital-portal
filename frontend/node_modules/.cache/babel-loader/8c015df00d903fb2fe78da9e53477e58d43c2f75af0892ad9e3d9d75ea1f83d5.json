{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/sathwik/hospital-portal/frontend/src/pages/DoctorDashboard.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function DoctorDashboard() {\n  _s();\n  const [patients, setPatients] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [familyHistory, setFamilyHistory] = useState([]);\n  const [familyMembers, setFamilyMembers] = useState([]);\n  const [familySummary, setFamilySummary] = useState({});\n  const [saving, setSaving] = useState(false);\n  const [loadingHistory, setLoadingHistory] = useState(false);\n  const token = localStorage.getItem(\"token\");\n\n  // Fetch patients\n  const fetchPatients = async () => {\n    try {\n      setLoading(true);\n      console.log(\"Fetching patients...\");\n      const response = await fetch(\"http://localhost:8080/api/patients\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log(\"Patients fetched:\", data);\n      setPatients(data || []);\n      setError(\"\");\n    } catch (err) {\n      setError(\"Failed to load patients\");\n      console.error(\"Error fetching patients:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch complete family history by phone number\n  const fetchFamilyHistoryByPhone = async phoneNumber => {\n    try {\n      setLoadingHistory(true);\n      console.log(`Fetching complete family history for phone ${phoneNumber}...`);\n      const response = await fetch(`http://localhost:8080/api/patients/phone/${phoneNumber}/family-history`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        console.log(\"Complete family history:\", data);\n        setFamilyHistory(data.medical_history || []);\n        setFamilyMembers(data.family_members || []);\n        setFamilySummary(data.family_summary || {});\n      } else {\n        console.log(\"No family history found\");\n        setFamilyHistory([]);\n        setFamilyMembers([]);\n        setFamilySummary({});\n      }\n    } catch (err) {\n      console.error(\"Failed to fetch family history:\", err);\n      setFamilyHistory([]);\n      setFamilyMembers([]);\n      setFamilySummary({});\n    } finally {\n      setLoadingHistory(false);\n    }\n  };\n\n  // Update patient\n  const updatePatient = async e => {\n    e.preventDefault();\n    setSaving(true);\n    try {\n      console.log(\"Updating patient:\", editingPatient);\n      const response = await fetch(`http://localhost:8080/api/patients/${editingPatient.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          name: editingPatient.name,\n          age: editingPatient.age,\n          gender: editingPatient.gender,\n          phone_number: editingPatient.phone_number,\n          relationship: editingPatient.relationship,\n          diagnosis: editingPatient.diagnosis || \"\",\n          medical_notes: editingPatient.medical_notes || \"\",\n          prescriptions: editingPatient.prescriptions || \"\",\n          last_checkup: editingPatient.last_checkup || \"\",\n          next_appointment: editingPatient.next_appointment || \"\"\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.text();\n        throw new Error(`Failed to update patient: ${errorData}`);\n      }\n      const result = await response.json();\n      console.log(\"Update result:\", result);\n\n      // Refresh patient list and family history\n      await fetchPatients();\n      await fetchFamilyHistoryByPhone(editingPatient.phone_number);\n      alert(\"✅ Patient medical record updated successfully!\");\n    } catch (err) {\n      alert(`❌ Error updating patient: ${err.message}`);\n      console.error(\"Update error:\", err);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Open edit modal\n  const handleEdit = async patient => {\n    console.log(\"Editing patient:\", patient);\n    setEditingPatient({\n      ...patient,\n      medical_notes: patient.medical_notes || \"\",\n      prescriptions: patient.prescriptions || \"\",\n      last_checkup: patient.last_checkup || new Date().toISOString().split(\"T\")[0],\n      next_appointment: patient.next_appointment || \"\"\n    });\n\n    // Fetch complete family history by phone number\n    await fetchFamilyHistoryByPhone(patient.phone_number);\n    setShowEditModal(true);\n  };\n\n  // Close edit modal\n  const handleCloseModal = () => {\n    setShowEditModal(false);\n    setEditingPatient(null);\n    setFamilyHistory([]);\n    setFamilyMembers([]);\n    setFamilySummary({});\n  };\n\n  // Handle input changes\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditingPatient({\n      ...editingPatient,\n      [name]: value\n    });\n  };\n\n  // Get relationship emoji\n  const getRelationshipEmoji = relationship => {\n    const emojis = {\n      self: \"👤\",\n      son: \"👦\",\n      daughter: \"👧\",\n      mother: \"👩\",\n      father: \"👨\",\n      spouse: \"💑\",\n      brother: \"👦\",\n      sister: \"👧\",\n      grandfather: \"👴\",\n      grandmother: \"👵\",\n      other: \"👥\"\n    };\n    return emojis[relationship] || \"👤\";\n  };\n\n  // Get relationship display name\n  const getRelationshipDisplay = relationship => {\n    const displays = {\n      self: \"Self\",\n      son: \"Son\",\n      daughter: \"Daughter\",\n      mother: \"Mother\",\n      father: \"Father\",\n      spouse: \"Spouse\",\n      brother: \"Brother\",\n      sister: \"Sister\",\n      grandfather: \"Grandfather\",\n      grandmother: \"Grandmother\",\n      other: \"Other\"\n    };\n    return displays[relationship] || \"Unknown\";\n  };\n  useEffect(() => {\n    fetchPatients();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"dashboard-title\",\n          children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Doctor Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"dashboard-subtitle\",\n          children: \"Review and update patient medical records with family history tracking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card green\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Total Patients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: patients.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDC65\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card blue\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Active Cases\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: patients.filter(p => p.diagnosis && p.diagnosis !== \"None specified\" && p.diagnosis !== \"\").length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card purple\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Family Patients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: patients.filter(p => p.relationship !== \"self\").length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card orange\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Today's Updates\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: patients.filter(p => p.updated_at && new Date(p.updated_at).toDateString() === new Date().toDateString()).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83E\\uDE7A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"40px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: \"24px\",\n            fontWeight: \"bold\",\n            marginBottom: \"16px\"\n          },\n          children: \"\\uD83D\\uDCCB Patient Records\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"#6b7280\",\n            marginBottom: \"24px\"\n          },\n          children: \"Click on any patient to view their complete family medical history and update current condition\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            padding: \"40px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD83D\\uDD04 Loading patients...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            padding: \"40px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error-message\",\n            children: [\"\\u274C \", error]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchPatients,\n            style: {\n              marginTop: \"10px\",\n              padding: \"8px 16px\",\n              backgroundColor: \"#3b82f6\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            },\n            children: \"\\uD83D\\uDD04 Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), !loading && !error && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: patients.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"center\",\n              padding: \"40px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uD83D\\uDCED No patients found.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"patient-grid\",\n            children: patients.map(patient => {\n              const hasHistory = patient.medical_history && patient.medical_history.length > 0;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `patient-card ${hasHistory ? \"returning-patient\" : \"new-patient\"}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"patient-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"patient-name\",\n                    children: [getRelationshipEmoji(patient.relationship), \" \", patient.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-badges\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"patient-id\",\n                      children: [\"ID: \", patient.id]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"relationship-badge\",\n                      children: getRelationshipDisplay(patient.relationship)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 29\n                    }, this), hasHistory && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"returning-badge\",\n                      children: \"\\uD83D\\uDD04 Has History\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 44\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"patient-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\uD83D\\uDC64 Age: \", patient.age, \" years | Gender: \", patient.gender]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\uD83D\\uDCDE Phone: \", patient.phone_number]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail relationship-info\",\n                    children: [\"\\uD83D\\uDC65 Relationship: \", getRelationshipDisplay(patient.relationship)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\uD83C\\uDFE5 Current Diagnosis: \", patient.diagnosis || \"None specified\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 27\n                  }, this), patient.prescriptions && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\uD83D\\uDC8A Current Medications: \", patient.prescriptions]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 29\n                  }, this), patient.last_checkup && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\uD83D\\uDDD3\\uFE0F Last Checkup: \", patient.last_checkup]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 29\n                  }, this), hasHistory && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail history-indicator\",\n                    children: [\"\\uD83D\\uDCDA Previous Visits: \", patient.medical_history.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 29\n                  }, this), patient.updated_at && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"patient-detail\",\n                    children: [\"\\u23F0 Last Updated: \", new Date(patient.updated_at).toLocaleDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"patient-actions\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-edit\",\n                    onClick: () => handleEdit(patient),\n                    children: hasHistory ? \"📚 View Family History & Update\" : \"✏️ Add First Medical Record\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 25\n                }, this)]\n              }, patient.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 17\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), showEditModal && editingPatient && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content family-modal enhanced-modal\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"patient-info-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"modal-title\",\n                children: [\"\\uD83E\\uDE7A Medical Record - \", getRelationshipEmoji(editingPatient.relationship), \" \", editingPatient.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"patient-status\",\n                children: familySummary.has_history ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status-badge family-history\",\n                  children: [\"\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66 Family History (\", familySummary.total_visits, \" total visits)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status-badge new-family\",\n                  children: \"\\u2728 New Family (First Visit)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"modal-subtitle\",\n              children: [\"\\uD83D\\uDCDE Phone: \", editingPatient.phone_number, \" | \\uD83D\\uDC65 Relationship:\", \" \", getRelationshipDisplay(editingPatient.relationship), \" | \\uD83D\\uDC64 Age: \", editingPatient.age, \" | Gender:\", \" \", editingPatient.gender]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"modal-close-enhanced\",\n              onClick: handleCloseModal,\n              title: \"Close Modal\",\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"history-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"section-title\",\n                children: [\"\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66 Family Medical History\", familySummary.has_history && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"visit-count\",\n                  children: [\"(\", familySummary.unique_members, \" members, \", familySummary.total_visits, \" visits)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this), loadingHistory ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-history\",\n                children: \"\\uD83D\\uDD04 Loading family history...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [familyMembers.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"family-members-section\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"subsection-title\",\n                    children: \"\\uD83D\\uDC65 Family Members Using This Phone\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"family-members-grid\",\n                    children: familyMembers.map((member, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `family-member-card ${member.id === editingPatient.id ? \"current-patient\" : \"\"}`,\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"member-info\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"member-name\",\n                          children: [getRelationshipEmoji(member.relationship), \" \", member.name]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 413,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"member-details\",\n                          children: [getRelationshipDisplay(member.relationship), \" | Age: \", member.age]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 416,\n                          columnNumber: 35\n                        }, this), member.id === editingPatient.id && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"current-badge\",\n                          children: \"Current Patient\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 420,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 412,\n                        columnNumber: 33\n                      }, this)\n                    }, member.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 25\n                }, this), familyHistory.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"history-list\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"subsection-title\",\n                    children: \"\\uD83E\\uDE7A Medical Visit History\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 27\n                  }, this), familyHistory.map((history, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"history-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"history-header\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"visit-info\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"visit-date\",\n                          children: [\"\\uD83D\\uDDD3\\uFE0F \", new Date(history.visit_date).toLocaleDateString(), new Date(history.visit_date).toDateString() === new Date().toDateString() && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"today-badge\",\n                            children: \"Today\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 440,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 437,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"patient-info\",\n                          children: [getRelationshipEmoji(history.relationship), \" \", history.patient_name, \"(\", getRelationshipDisplay(history.relationship), \", Age: \", history.age, \")\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 443,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 436,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"doctor-name\",\n                        children: [\"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F \", history.doctor_name]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 448,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 435,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"history-details\",\n                      children: [history.diagnosis && /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"\\uD83C\\uDFE5 Diagnosis:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 453,\n                          columnNumber: 37\n                        }, this), \" \", history.diagnosis]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 452,\n                        columnNumber: 35\n                      }, this), history.medical_notes && /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"\\uD83D\\uDCDD Notes:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 458,\n                          columnNumber: 37\n                        }, this), \" \", history.medical_notes]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 35\n                      }, this), history.prescriptions && /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"\\uD83D\\uDC8A Prescriptions:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 463,\n                          columnNumber: 37\n                        }, this), \" \", history.prescriptions]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 462,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 31\n                    }, this)]\n                  }, history.id || index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 29\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"no-history\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"no-history-icon\",\n                    children: \"\\uD83D\\uDCDD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"No previous medical history found for this phone number.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"This will be the first medical record for this family.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"update-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"section-title\",\n                children: [\"\\uD83E\\uDE7A Current Visit - \", getRelationshipEmoji(editingPatient.relationship), \" \", editingPatient.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"patient-relationship\",\n                  children: [\"(\", getRelationshipDisplay(editingPatient.relationship), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: updatePatient,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: [\"\\uD83C\\uDFE5 Current Diagnosis *\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"helper-text\",\n                      children: \"What is the current medical condition or complaint?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 493,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    name: \"diagnosis\",\n                    className: \"form-input\",\n                    value: editingPatient.diagnosis || \"\",\n                    onChange: handleInputChange,\n                    placeholder: \"e.g., Cough, Cold, Fever, Headache...\",\n                    rows: \"3\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: [\"\\uD83D\\uDCDD Medical Notes\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"helper-text\",\n                      children: \"Detailed observations, symptoms, examination findings\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 509,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    name: \"medical_notes\",\n                    className: \"form-input\",\n                    value: editingPatient.medical_notes || \"\",\n                    onChange: handleInputChange,\n                    placeholder: \"Enter detailed medical notes, observations, symptoms, examination findings...\",\n                    rows: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-label\",\n                    children: [\"\\uD83D\\uDC8A Prescriptions\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"helper-text\",\n                      children: \"Medications with dosage and frequency\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 524,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    name: \"prescriptions\",\n                    className: \"form-input\",\n                    value: editingPatient.prescriptions || \"\",\n                    onChange: handleInputChange,\n                    placeholder: \"e.g., Paracetamol 500mg - 2 times daily after meals\\nAmoxicillin 250mg - 3 times daily for 7 days\",\n                    rows: \"3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      children: \"\\uD83D\\uDCC5 Checkup Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 538,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      name: \"last_checkup\",\n                      className: \"form-input\",\n                      value: editingPatient.last_checkup || \"\",\n                      onChange: handleInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 539,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 537,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      children: \"\\uD83D\\uDDD3\\uFE0F Next Appointment\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 549,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      name: \"next_appointment\",\n                      className: \"form-input\",\n                      value: editingPatient.next_appointment || \"\",\n                      onChange: handleInputChange,\n                      min: new Date().toISOString().split(\"T\")[0]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 550,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 548,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-cancel\",\n                    onClick: handleCloseModal,\n                    disabled: saving,\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn btn-submit\",\n                    disabled: saving,\n                    children: saving ? \"💾 Saving...\" : \"💾 Save Medical Record\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 565,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        /* 🔥 ENHANCED MODAL STYLES */\n        .enhanced-modal.family-modal .modal-content {\n          max-width: 1600px !important;\n          width: 98vw !important;\n          max-height: 98vh !important;\n          height: 95vh !important;\n          overflow-y: auto;\n          position: relative;\n          margin: 1vh auto;\n        }\n\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.75);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 10px;\n        }\n\n        /* 🔥 ENHANCED CLOSE BUTTON */\n        .modal-close-enhanced {\n          position: absolute;\n          top: 20px;\n          right: 20px;\n          background: #ef4444;\n          color: white;\n          border: none;\n          border-radius: 50%;\n          width: 40px;\n          height: 40px;\n          font-size: 20px;\n          font-weight: bold;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n          box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);\n          z-index: 10;\n        }\n\n        .modal-close-enhanced:hover {\n          background: #dc2626;\n          transform: scale(1.1);\n          box-shadow: 0 6px 16px rgba(239, 68, 68, 0.4);\n        }\n\n        .modal-close-enhanced:active {\n          transform: scale(0.95);\n        }\n\n        .patient-info-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n          padding-right: 60px; /* Space for close button */\n        }\n\n        .patient-status {\n          display: flex;\n          gap: 8px;\n        }\n\n        .status-badge {\n          padding: 6px 12px;\n          border-radius: 20px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n\n        .status-badge.family-history {\n          background: #dbeafe;\n          color: #1e40af;\n        }\n\n        .status-badge.new-family {\n          background: #dcfce7;\n          color: #166534;\n        }\n\n        .returning-patient {\n          border-left: 4px solid #3b82f6;\n        }\n\n        .new-patient {\n          border-left: 4px solid #10b981;\n        }\n\n        .patient-badges {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n          gap: 4px;\n        }\n\n        .relationship-badge {\n          background: #f3e8ff;\n          color: #7c3aed;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n\n        .returning-badge {\n          background: #dbeafe;\n          color: #1e40af;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n\n        .relationship-info {\n          background: #f3e8ff;\n          color: #7c3aed;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-weight: 500;\n        }\n\n        .history-indicator {\n          background: #f0f9ff;\n          color: #0369a1;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-weight: 500;\n        }\n\n        .modal-body {\n          display: flex;\n          gap: 40px;\n          padding: 30px;\n          height: calc(100% - 120px);\n        }\n\n        .history-section {\n          flex: 1.5;\n          border-right: 1px solid #e5e7eb;\n          padding-right: 30px;\n          overflow-y: auto;\n        }\n\n        .update-section {\n          flex: 1;\n          padding-left: 30px;\n          overflow-y: auto;\n        }\n\n        .section-title {\n          font-size: 20px;\n          font-weight: bold;\n          margin-bottom: 20px;\n          color: #374151;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .visit-count {\n          font-size: 14px;\n          color: #6b7280;\n          font-weight: normal;\n        }\n\n        .patient-relationship {\n          font-size: 14px;\n          color: #7c3aed;\n          font-weight: normal;\n        }\n\n        .subsection-title {\n          font-size: 16px;\n          font-weight: 600;\n          margin: 16px 0 12px 0;\n          color: #4b5563;\n        }\n\n        .loading-history {\n          text-align: center;\n          padding: 40px;\n          color: #6b7280;\n        }\n\n        .family-members-section {\n          margin-bottom: 24px;\n        }\n\n        .family-members-grid {\n          display: grid;\n          gap: 8px;\n          margin-bottom: 16px;\n        }\n\n        .family-member-card {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 12px;\n        }\n\n        .current-patient {\n          background: #dbeafe;\n          border-color: #3b82f6;\n        }\n\n        .member-info {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .member-name {\n          font-weight: 600;\n          color: #374151;\n        }\n\n        .member-details {\n          font-size: 12px;\n          color: #6b7280;\n        }\n\n        .current-badge {\n          background: #3b82f6;\n          color: white;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 10px;\n          font-weight: 600;\n        }\n\n        .history-list {\n          max-height: 600px;\n          overflow-y: auto;\n        }\n\n        .history-item {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 16px;\n          margin-bottom: 12px;\n        }\n\n        .history-header {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 8px;\n          font-size: 14px;\n          color: #6b7280;\n        }\n\n        .visit-info {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .patient-info {\n          font-weight: 500;\n          color: #374151;\n        }\n\n        .today-badge {\n          background: #fef3c7;\n          color: #92400e;\n          padding: 2px 6px;\n          border-radius: 8px;\n          font-size: 10px;\n          margin-left: 8px;\n        }\n\n        .history-details p {\n          margin: 6px 0;\n          font-size: 14px;\n          line-height: 1.4;\n        }\n\n        .no-history {\n          text-align: center;\n          padding: 40px;\n          background: #f9fafb;\n          border-radius: 8px;\n          border: 2px dashed #d1d5db;\n        }\n\n        .no-history-icon {\n          font-size: 48px;\n          margin-bottom: 16px;\n        }\n\n        .no-history p {\n          color: #6b7280;\n          margin: 8px 0;\n        }\n\n        .form-row {\n          display: flex;\n          gap: 16px;\n        }\n\n        .form-row .form-group {\n          flex: 1;\n        }\n\n        .form-group {\n          margin-bottom: 20px;\n        }\n\n        .form-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 600;\n          color: #374151;\n          font-size: 14px;\n        }\n\n        .helper-text {\n          display: block;\n          font-size: 12px;\n          color: #6b7280;\n          font-weight: normal;\n          margin-top: 2px;\n        }\n\n        .form-input {\n          width: 100%;\n          padding: 12px 14px;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 14px;\n          transition: border-color 0.2s;\n        }\n\n        .form-input:focus {\n          outline: none;\n          border-color: #3b82f6;\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n        }\n\n        .form-actions {\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n          margin-top: 30px;\n          padding-top: 20px;\n          border-top: 1px solid #e5e7eb;\n        }\n\n        .btn {\n          padding: 14px 28px;\n          border: none;\n          border-radius: 6px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s;\n          font-size: 14px;\n        }\n\n        .btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .btn-cancel {\n          background: #f3f4f6;\n          color: #374151;\n        }\n\n        .btn-cancel:hover:not(:disabled) {\n          background: #e5e7eb;\n        }\n\n        .btn-submit {\n          background: #3b82f6;\n          color: white;\n        }\n\n        .btn-submit:hover:not(:disabled) {\n          background: #2563eb;\n        }\n\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 20px;\n          margin-bottom: 30px;\n        }\n\n        .stat-card.orange {\n          background: linear-gradient(135deg, #fed7aa 0%, #fb923c 100%);\n          color: white;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n}\n_s(DoctorDashboard, \"epjAnvnUpScHwZYMH9QVB4fsOzo=\");\n_c = DoctorDashboard;\nvar _c;\n$RefreshReg$(_c, \"DoctorDashboard\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","DoctorDashboard","patients","setPatients","loading","setLoading","error","setError","editingPatient","setEditingPatient","showEditModal","setShowEditModal","familyHistory","setFamilyHistory","familyMembers","setFamilyMembers","familySummary","setFamilySummary","saving","setSaving","loadingHistory","setLoadingHistory","token","localStorage","getItem","fetchPatients","console","log","response","fetch","headers","Authorization","ok","Error","status","data","json","err","fetchFamilyHistoryByPhone","phoneNumber","medical_history","family_members","family_summary","updatePatient","e","preventDefault","id","method","body","JSON","stringify","name","age","gender","phone_number","relationship","diagnosis","medical_notes","prescriptions","last_checkup","next_appointment","errorData","text","result","alert","message","handleEdit","patient","Date","toISOString","split","handleCloseModal","handleInputChange","value","target","getRelationshipEmoji","emojis","self","son","daughter","mother","father","spouse","brother","sister","grandfather","grandmother","other","getRelationshipDisplay","displays","className","children","fileName","lineNumber","columnNumber","length","filter","p","updated_at","toDateString","style","marginTop","fontSize","fontWeight","marginBottom","color","textAlign","padding","onClick","backgroundColor","border","borderRadius","cursor","map","hasHistory","toLocaleDateString","has_history","total_visits","title","unique_members","member","index","history","visit_date","patient_name","doctor_name","onSubmit","onChange","placeholder","rows","required","type","min","disabled","jsx","_c","$RefreshReg$"],"sources":["/Users/sathwik/hospital-portal/frontend/src/pages/DoctorDashboard.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\n\nexport default function DoctorDashboard() {\n  const [patients, setPatients] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(\"\")\n  const [editingPatient, setEditingPatient] = useState(null)\n  const [showEditModal, setShowEditModal] = useState(false)\n  const [familyHistory, setFamilyHistory] = useState([])\n  const [familyMembers, setFamilyMembers] = useState([])\n  const [familySummary, setFamilySummary] = useState({})\n  const [saving, setSaving] = useState(false)\n  const [loadingHistory, setLoadingHistory] = useState(false)\n  const token = localStorage.getItem(\"token\")\n\n  // Fetch patients\n  const fetchPatients = async () => {\n    try {\n      setLoading(true)\n      console.log(\"Fetching patients...\")\n      const response = await fetch(\"http://localhost:8080/api/patients\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      })\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`)\n      }\n\n      const data = await response.json()\n      console.log(\"Patients fetched:\", data)\n      setPatients(data || [])\n      setError(\"\")\n    } catch (err) {\n      setError(\"Failed to load patients\")\n      console.error(\"Error fetching patients:\", err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Fetch complete family history by phone number\n  const fetchFamilyHistoryByPhone = async (phoneNumber) => {\n    try {\n      setLoadingHistory(true)\n      console.log(`Fetching complete family history for phone ${phoneNumber}...`)\n      const response = await fetch(`http://localhost:8080/api/patients/phone/${phoneNumber}/family-history`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        console.log(\"Complete family history:\", data)\n        setFamilyHistory(data.medical_history || [])\n        setFamilyMembers(data.family_members || [])\n        setFamilySummary(data.family_summary || {})\n      } else {\n        console.log(\"No family history found\")\n        setFamilyHistory([])\n        setFamilyMembers([])\n        setFamilySummary({})\n      }\n    } catch (err) {\n      console.error(\"Failed to fetch family history:\", err)\n      setFamilyHistory([])\n      setFamilyMembers([])\n      setFamilySummary({})\n    } finally {\n      setLoadingHistory(false)\n    }\n  }\n\n  // Update patient\n  const updatePatient = async (e) => {\n    e.preventDefault()\n    setSaving(true)\n\n    try {\n      console.log(\"Updating patient:\", editingPatient)\n\n      const response = await fetch(`http://localhost:8080/api/patients/${editingPatient.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          name: editingPatient.name,\n          age: editingPatient.age,\n          gender: editingPatient.gender,\n          phone_number: editingPatient.phone_number,\n          relationship: editingPatient.relationship,\n          diagnosis: editingPatient.diagnosis || \"\",\n          medical_notes: editingPatient.medical_notes || \"\",\n          prescriptions: editingPatient.prescriptions || \"\",\n          last_checkup: editingPatient.last_checkup || \"\",\n          next_appointment: editingPatient.next_appointment || \"\",\n        }),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.text()\n        throw new Error(`Failed to update patient: ${errorData}`)\n      }\n\n      const result = await response.json()\n      console.log(\"Update result:\", result)\n\n      // Refresh patient list and family history\n      await fetchPatients()\n      await fetchFamilyHistoryByPhone(editingPatient.phone_number)\n\n      alert(\"✅ Patient medical record updated successfully!\")\n    } catch (err) {\n      alert(`❌ Error updating patient: ${err.message}`)\n      console.error(\"Update error:\", err)\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  // Open edit modal\n  const handleEdit = async (patient) => {\n    console.log(\"Editing patient:\", patient)\n    setEditingPatient({\n      ...patient,\n      medical_notes: patient.medical_notes || \"\",\n      prescriptions: patient.prescriptions || \"\",\n      last_checkup: patient.last_checkup || new Date().toISOString().split(\"T\")[0],\n      next_appointment: patient.next_appointment || \"\",\n    })\n\n    // Fetch complete family history by phone number\n    await fetchFamilyHistoryByPhone(patient.phone_number)\n    setShowEditModal(true)\n  }\n\n  // Close edit modal\n  const handleCloseModal = () => {\n    setShowEditModal(false)\n    setEditingPatient(null)\n    setFamilyHistory([])\n    setFamilyMembers([])\n    setFamilySummary({})\n  }\n\n  // Handle input changes\n  const handleInputChange = (e) => {\n    const { name, value } = e.target\n    setEditingPatient({\n      ...editingPatient,\n      [name]: value,\n    })\n  }\n\n  // Get relationship emoji\n  const getRelationshipEmoji = (relationship) => {\n    const emojis = {\n      self: \"👤\",\n      son: \"👦\",\n      daughter: \"👧\",\n      mother: \"👩\",\n      father: \"👨\",\n      spouse: \"💑\",\n      brother: \"👦\",\n      sister: \"👧\",\n      grandfather: \"👴\",\n      grandmother: \"👵\",\n      other: \"👥\",\n    }\n    return emojis[relationship] || \"👤\"\n  }\n\n  // Get relationship display name\n  const getRelationshipDisplay = (relationship) => {\n    const displays = {\n      self: \"Self\",\n      son: \"Son\",\n      daughter: \"Daughter\",\n      mother: \"Mother\",\n      father: \"Father\",\n      spouse: \"Spouse\",\n      brother: \"Brother\",\n      sister: \"Sister\",\n      grandfather: \"Grandfather\",\n      grandmother: \"Grandmother\",\n      other: \"Other\",\n    }\n    return displays[relationship] || \"Unknown\"\n  }\n\n  useEffect(() => {\n    fetchPatients()\n  }, [])\n\n  return (\n    <div className=\"content\">\n      <div className=\"content-card\">\n        <div className=\"dashboard-header\">\n          <h1 className=\"dashboard-title\">👨‍⚕️ Doctor Dashboard</h1>\n          <p className=\"dashboard-subtitle\">Review and update patient medical records with family history tracking</p>\n        </div>\n\n        {/* Enhanced Stats cards */}\n        <div className=\"stats-grid\">\n          <div className=\"stat-card green\">\n            <div className=\"stat-info\">\n              <h3>Total Patients</h3>\n              <p>{patients.length}</p>\n            </div>\n            <div className=\"stat-icon\">👥</div>\n          </div>\n\n          <div className=\"stat-card blue\">\n            <div className=\"stat-info\">\n              <h3>Active Cases</h3>\n              <p>\n                {patients.filter((p) => p.diagnosis && p.diagnosis !== \"None specified\" && p.diagnosis !== \"\").length}\n              </p>\n            </div>\n            <div className=\"stat-icon\">📋</div>\n          </div>\n\n          <div className=\"stat-card purple\">\n            <div className=\"stat-info\">\n              <h3>Family Patients</h3>\n              <p>{patients.filter((p) => p.relationship !== \"self\").length}</p>\n            </div>\n            <div className=\"stat-icon\">👨‍👩‍👧‍👦</div>\n          </div>\n\n          <div className=\"stat-card orange\">\n            <div className=\"stat-info\">\n              <h3>Today's Updates</h3>\n              <p>\n                {\n                  patients.filter(\n                    (p) => p.updated_at && new Date(p.updated_at).toDateString() === new Date().toDateString(),\n                  ).length\n                }\n              </p>\n            </div>\n            <div className=\"stat-icon\">🩺</div>\n          </div>\n        </div>\n\n        {/* Patient Records */}\n        <div style={{ marginTop: \"40px\" }}>\n          <h2 style={{ fontSize: \"24px\", fontWeight: \"bold\", marginBottom: \"16px\" }}>📋 Patient Records</h2>\n          <p style={{ color: \"#6b7280\", marginBottom: \"24px\" }}>\n            Click on any patient to view their complete family medical history and update current condition\n          </p>\n\n          {loading && (\n            <div style={{ textAlign: \"center\", padding: \"40px\" }}>\n              <p>🔄 Loading patients...</p>\n            </div>\n          )}\n\n          {error && (\n            <div style={{ textAlign: \"center\", padding: \"40px\" }}>\n              <p className=\"error-message\">❌ {error}</p>\n              <button\n                onClick={fetchPatients}\n                style={{\n                  marginTop: \"10px\",\n                  padding: \"8px 16px\",\n                  backgroundColor: \"#3b82f6\",\n                  color: \"white\",\n                  border: \"none\",\n                  borderRadius: \"4px\",\n                  cursor: \"pointer\",\n                }}\n              >\n                🔄 Retry\n              </button>\n            </div>\n          )}\n\n          {!loading && !error && (\n            <>\n              {patients.length === 0 ? (\n                <div style={{ textAlign: \"center\", padding: \"40px\" }}>\n                  <p>📭 No patients found.</p>\n                </div>\n              ) : (\n                <div className=\"patient-grid\">\n                  {patients.map((patient) => {\n                    const hasHistory = patient.medical_history && patient.medical_history.length > 0\n                    return (\n                      <div\n                        key={patient.id}\n                        className={`patient-card ${hasHistory ? \"returning-patient\" : \"new-patient\"}`}\n                      >\n                        <div className=\"patient-header\">\n                          <h3 className=\"patient-name\">\n                            {getRelationshipEmoji(patient.relationship)} {patient.name}\n                          </h3>\n                          <div className=\"patient-badges\">\n                            <span className=\"patient-id\">ID: {patient.id}</span>\n                            <span className=\"relationship-badge\">{getRelationshipDisplay(patient.relationship)}</span>\n                            {hasHistory && <span className=\"returning-badge\">🔄 Has History</span>}\n                          </div>\n                        </div>\n\n                        <div className=\"patient-details\">\n                          <div className=\"patient-detail\">\n                            👤 Age: {patient.age} years | Gender: {patient.gender}\n                          </div>\n                          <div className=\"patient-detail\">📞 Phone: {patient.phone_number}</div>\n                          <div className=\"patient-detail relationship-info\">\n                            👥 Relationship: {getRelationshipDisplay(patient.relationship)}\n                          </div>\n                          <div className=\"patient-detail\">\n                            🏥 Current Diagnosis: {patient.diagnosis || \"None specified\"}\n                          </div>\n                          {patient.prescriptions && (\n                            <div className=\"patient-detail\">💊 Current Medications: {patient.prescriptions}</div>\n                          )}\n                          {patient.last_checkup && (\n                            <div className=\"patient-detail\">🗓️ Last Checkup: {patient.last_checkup}</div>\n                          )}\n                          {hasHistory && (\n                            <div className=\"patient-detail history-indicator\">\n                              📚 Previous Visits: {patient.medical_history.length}\n                            </div>\n                          )}\n                          {patient.updated_at && (\n                            <div className=\"patient-detail\">\n                              ⏰ Last Updated: {new Date(patient.updated_at).toLocaleDateString()}\n                            </div>\n                          )}\n                        </div>\n\n                        <div className=\"patient-actions\">\n                          <button className=\"btn btn-edit\" onClick={() => handleEdit(patient)}>\n                            {hasHistory ? \"📚 View Family History & Update\" : \"✏️ Add First Medical Record\"}\n                          </button>\n                        </div>\n                      </div>\n                    )\n                  })}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n\n        {/* 🔥 ENHANCED MODAL - MUCH LARGER + BETTER CLOSE BUTTON */}\n        {showEditModal && editingPatient && (\n          <div className=\"modal-overlay\">\n            <div className=\"modal-content family-modal enhanced-modal\">\n              <div className=\"modal-header\">\n                <div className=\"patient-info-header\">\n                  <h2 className=\"modal-title\">\n                    🩺 Medical Record - {getRelationshipEmoji(editingPatient.relationship)} {editingPatient.name}\n                  </h2>\n                  <div className=\"patient-status\">\n                    {familySummary.has_history ? (\n                      <span className=\"status-badge family-history\">\n                        👨‍👩‍👧‍👦 Family History ({familySummary.total_visits} total visits)\n                      </span>\n                    ) : (\n                      <span className=\"status-badge new-family\">✨ New Family (First Visit)</span>\n                    )}\n                  </div>\n                </div>\n                <p className=\"modal-subtitle\">\n                  📞 Phone: {editingPatient.phone_number} | 👥 Relationship:{\" \"}\n                  {getRelationshipDisplay(editingPatient.relationship)} | 👤 Age: {editingPatient.age} | Gender:{\" \"}\n                  {editingPatient.gender}\n                </p>\n                {/* 🔥 ENHANCED CLOSE BUTTON */}\n                <button className=\"modal-close-enhanced\" onClick={handleCloseModal} title=\"Close Modal\">\n                  ✕\n                </button>\n              </div>\n\n              <div className=\"modal-body\">\n                {/* Family History Section */}\n                <div className=\"history-section\">\n                  <h3 className=\"section-title\">\n                    👨‍👩‍👧‍👦 Family Medical History\n                    {familySummary.has_history && (\n                      <span className=\"visit-count\">\n                        ({familySummary.unique_members} members, {familySummary.total_visits} visits)\n                      </span>\n                    )}\n                  </h3>\n\n                  {loadingHistory ? (\n                    <div className=\"loading-history\">🔄 Loading family history...</div>\n                  ) : (\n                    <>\n                      {/* Family Members Summary */}\n                      {familyMembers.length > 1 && (\n                        <div className=\"family-members-section\">\n                          <h4 className=\"subsection-title\">👥 Family Members Using This Phone</h4>\n                          <div className=\"family-members-grid\">\n                            {familyMembers.map((member, index) => (\n                              <div\n                                key={member.id}\n                                className={`family-member-card ${member.id === editingPatient.id ? \"current-patient\" : \"\"}`}\n                              >\n                                <div className=\"member-info\">\n                                  <span className=\"member-name\">\n                                    {getRelationshipEmoji(member.relationship)} {member.name}\n                                  </span>\n                                  <span className=\"member-details\">\n                                    {getRelationshipDisplay(member.relationship)} | Age: {member.age}\n                                  </span>\n                                  {member.id === editingPatient.id && (\n                                    <span className=\"current-badge\">Current Patient</span>\n                                  )}\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      )}\n\n                      {/* Medical Visit History */}\n                      {familyHistory.length > 0 ? (\n                        <div className=\"history-list\">\n                          <h4 className=\"subsection-title\">🩺 Medical Visit History</h4>\n                          {familyHistory.map((history, index) => (\n                            <div key={history.id || index} className=\"history-item\">\n                              <div className=\"history-header\">\n                                <div className=\"visit-info\">\n                                  <span className=\"visit-date\">\n                                    🗓️ {new Date(history.visit_date).toLocaleDateString()}\n                                    {new Date(history.visit_date).toDateString() === new Date().toDateString() && (\n                                      <span className=\"today-badge\">Today</span>\n                                    )}\n                                  </span>\n                                  <span className=\"patient-info\">\n                                    {getRelationshipEmoji(history.relationship)} {history.patient_name}(\n                                    {getRelationshipDisplay(history.relationship)}, Age: {history.age})\n                                  </span>\n                                </div>\n                                <span className=\"doctor-name\">👨‍⚕️ {history.doctor_name}</span>\n                              </div>\n                              <div className=\"history-details\">\n                                {history.diagnosis && (\n                                  <p>\n                                    <strong>🏥 Diagnosis:</strong> {history.diagnosis}\n                                  </p>\n                                )}\n                                {history.medical_notes && (\n                                  <p>\n                                    <strong>📝 Notes:</strong> {history.medical_notes}\n                                  </p>\n                                )}\n                                {history.prescriptions && (\n                                  <p>\n                                    <strong>💊 Prescriptions:</strong> {history.prescriptions}\n                                  </p>\n                                )}\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      ) : (\n                        <div className=\"no-history\">\n                          <div className=\"no-history-icon\">📝</div>\n                          <p>No previous medical history found for this phone number.</p>\n                          <p>This will be the first medical record for this family.</p>\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n\n                {/* Current Update Form */}\n                <div className=\"update-section\">\n                  <h3 className=\"section-title\">\n                    🩺 Current Visit - {getRelationshipEmoji(editingPatient.relationship)} {editingPatient.name}\n                    <span className=\"patient-relationship\">\n                      ({getRelationshipDisplay(editingPatient.relationship)})\n                    </span>\n                  </h3>\n                  <form onSubmit={updatePatient}>\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">\n                        🏥 Current Diagnosis *\n                        <span className=\"helper-text\">What is the current medical condition or complaint?</span>\n                      </label>\n                      <textarea\n                        name=\"diagnosis\"\n                        className=\"form-input\"\n                        value={editingPatient.diagnosis || \"\"}\n                        onChange={handleInputChange}\n                        placeholder=\"e.g., Cough, Cold, Fever, Headache...\"\n                        rows=\"3\"\n                        required\n                      />\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">\n                        📝 Medical Notes\n                        <span className=\"helper-text\">Detailed observations, symptoms, examination findings</span>\n                      </label>\n                      <textarea\n                        name=\"medical_notes\"\n                        className=\"form-input\"\n                        value={editingPatient.medical_notes || \"\"}\n                        onChange={handleInputChange}\n                        placeholder=\"Enter detailed medical notes, observations, symptoms, examination findings...\"\n                        rows=\"4\"\n                      />\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">\n                        💊 Prescriptions\n                        <span className=\"helper-text\">Medications with dosage and frequency</span>\n                      </label>\n                      <textarea\n                        name=\"prescriptions\"\n                        className=\"form-input\"\n                        value={editingPatient.prescriptions || \"\"}\n                        onChange={handleInputChange}\n                        placeholder=\"e.g., Paracetamol 500mg - 2 times daily after meals&#10;Amoxicillin 250mg - 3 times daily for 7 days\"\n                        rows=\"3\"\n                      />\n                    </div>\n\n                    <div className=\"form-row\">\n                      <div className=\"form-group\">\n                        <label className=\"form-label\">📅 Checkup Date</label>\n                        <input\n                          type=\"date\"\n                          name=\"last_checkup\"\n                          className=\"form-input\"\n                          value={editingPatient.last_checkup || \"\"}\n                          onChange={handleInputChange}\n                        />\n                      </div>\n\n                      <div className=\"form-group\">\n                        <label className=\"form-label\">🗓️ Next Appointment</label>\n                        <input\n                          type=\"date\"\n                          name=\"next_appointment\"\n                          className=\"form-input\"\n                          value={editingPatient.next_appointment || \"\"}\n                          onChange={handleInputChange}\n                          min={new Date().toISOString().split(\"T\")[0]}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-actions\">\n                      <button type=\"button\" className=\"btn btn-cancel\" onClick={handleCloseModal} disabled={saving}>\n                        Cancel\n                      </button>\n                      <button type=\"submit\" className=\"btn btn-submit\" disabled={saving}>\n                        {saving ? \"💾 Saving...\" : \"💾 Save Medical Record\"}\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* 🔥 ENHANCED STYLES WITH LARGER MODAL */}\n      <style jsx>{`\n        /* 🔥 ENHANCED MODAL STYLES */\n        .enhanced-modal.family-modal .modal-content {\n          max-width: 1600px !important;\n          width: 98vw !important;\n          max-height: 98vh !important;\n          height: 95vh !important;\n          overflow-y: auto;\n          position: relative;\n          margin: 1vh auto;\n        }\n\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.75);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 10px;\n        }\n\n        /* 🔥 ENHANCED CLOSE BUTTON */\n        .modal-close-enhanced {\n          position: absolute;\n          top: 20px;\n          right: 20px;\n          background: #ef4444;\n          color: white;\n          border: none;\n          border-radius: 50%;\n          width: 40px;\n          height: 40px;\n          font-size: 20px;\n          font-weight: bold;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n          box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);\n          z-index: 10;\n        }\n\n        .modal-close-enhanced:hover {\n          background: #dc2626;\n          transform: scale(1.1);\n          box-shadow: 0 6px 16px rgba(239, 68, 68, 0.4);\n        }\n\n        .modal-close-enhanced:active {\n          transform: scale(0.95);\n        }\n\n        .patient-info-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n          padding-right: 60px; /* Space for close button */\n        }\n\n        .patient-status {\n          display: flex;\n          gap: 8px;\n        }\n\n        .status-badge {\n          padding: 6px 12px;\n          border-radius: 20px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n\n        .status-badge.family-history {\n          background: #dbeafe;\n          color: #1e40af;\n        }\n\n        .status-badge.new-family {\n          background: #dcfce7;\n          color: #166534;\n        }\n\n        .returning-patient {\n          border-left: 4px solid #3b82f6;\n        }\n\n        .new-patient {\n          border-left: 4px solid #10b981;\n        }\n\n        .patient-badges {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n          gap: 4px;\n        }\n\n        .relationship-badge {\n          background: #f3e8ff;\n          color: #7c3aed;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n\n        .returning-badge {\n          background: #dbeafe;\n          color: #1e40af;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n\n        .relationship-info {\n          background: #f3e8ff;\n          color: #7c3aed;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-weight: 500;\n        }\n\n        .history-indicator {\n          background: #f0f9ff;\n          color: #0369a1;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-weight: 500;\n        }\n\n        .modal-body {\n          display: flex;\n          gap: 40px;\n          padding: 30px;\n          height: calc(100% - 120px);\n        }\n\n        .history-section {\n          flex: 1.5;\n          border-right: 1px solid #e5e7eb;\n          padding-right: 30px;\n          overflow-y: auto;\n        }\n\n        .update-section {\n          flex: 1;\n          padding-left: 30px;\n          overflow-y: auto;\n        }\n\n        .section-title {\n          font-size: 20px;\n          font-weight: bold;\n          margin-bottom: 20px;\n          color: #374151;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .visit-count {\n          font-size: 14px;\n          color: #6b7280;\n          font-weight: normal;\n        }\n\n        .patient-relationship {\n          font-size: 14px;\n          color: #7c3aed;\n          font-weight: normal;\n        }\n\n        .subsection-title {\n          font-size: 16px;\n          font-weight: 600;\n          margin: 16px 0 12px 0;\n          color: #4b5563;\n        }\n\n        .loading-history {\n          text-align: center;\n          padding: 40px;\n          color: #6b7280;\n        }\n\n        .family-members-section {\n          margin-bottom: 24px;\n        }\n\n        .family-members-grid {\n          display: grid;\n          gap: 8px;\n          margin-bottom: 16px;\n        }\n\n        .family-member-card {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 12px;\n        }\n\n        .current-patient {\n          background: #dbeafe;\n          border-color: #3b82f6;\n        }\n\n        .member-info {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .member-name {\n          font-weight: 600;\n          color: #374151;\n        }\n\n        .member-details {\n          font-size: 12px;\n          color: #6b7280;\n        }\n\n        .current-badge {\n          background: #3b82f6;\n          color: white;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 10px;\n          font-weight: 600;\n        }\n\n        .history-list {\n          max-height: 600px;\n          overflow-y: auto;\n        }\n\n        .history-item {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 16px;\n          margin-bottom: 12px;\n        }\n\n        .history-header {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 8px;\n          font-size: 14px;\n          color: #6b7280;\n        }\n\n        .visit-info {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .patient-info {\n          font-weight: 500;\n          color: #374151;\n        }\n\n        .today-badge {\n          background: #fef3c7;\n          color: #92400e;\n          padding: 2px 6px;\n          border-radius: 8px;\n          font-size: 10px;\n          margin-left: 8px;\n        }\n\n        .history-details p {\n          margin: 6px 0;\n          font-size: 14px;\n          line-height: 1.4;\n        }\n\n        .no-history {\n          text-align: center;\n          padding: 40px;\n          background: #f9fafb;\n          border-radius: 8px;\n          border: 2px dashed #d1d5db;\n        }\n\n        .no-history-icon {\n          font-size: 48px;\n          margin-bottom: 16px;\n        }\n\n        .no-history p {\n          color: #6b7280;\n          margin: 8px 0;\n        }\n\n        .form-row {\n          display: flex;\n          gap: 16px;\n        }\n\n        .form-row .form-group {\n          flex: 1;\n        }\n\n        .form-group {\n          margin-bottom: 20px;\n        }\n\n        .form-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 600;\n          color: #374151;\n          font-size: 14px;\n        }\n\n        .helper-text {\n          display: block;\n          font-size: 12px;\n          color: #6b7280;\n          font-weight: normal;\n          margin-top: 2px;\n        }\n\n        .form-input {\n          width: 100%;\n          padding: 12px 14px;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 14px;\n          transition: border-color 0.2s;\n        }\n\n        .form-input:focus {\n          outline: none;\n          border-color: #3b82f6;\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n        }\n\n        .form-actions {\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n          margin-top: 30px;\n          padding-top: 20px;\n          border-top: 1px solid #e5e7eb;\n        }\n\n        .btn {\n          padding: 14px 28px;\n          border: none;\n          border-radius: 6px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s;\n          font-size: 14px;\n        }\n\n        .btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .btn-cancel {\n          background: #f3f4f6;\n          color: #374151;\n        }\n\n        .btn-cancel:hover:not(:disabled) {\n          background: #e5e7eb;\n        }\n\n        .btn-submit {\n          background: #3b82f6;\n          color: white;\n        }\n\n        .btn-submit:hover:not(:disabled) {\n          background: #2563eb;\n        }\n\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 20px;\n          margin-bottom: 30px;\n        }\n\n        .stat-card.orange {\n          background: linear-gradient(135deg, #fed7aa 0%, #fb923c 100%);\n          color: white;\n        }\n      `}</style>\n    </div>\n  )\n}\n"],"mappings":"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CThG,OAAA;oBAAQqI,IAAI,EAAC,QAAQ;oBAACzC,SAAS,EAAC,gBAAgB;oBAAC2C,QAAQ,EAAEnH,MAAO;oBAAAyE,QAAA,EAC/DzE,MAAM,GAAG,cAAc,GAAG;kBAAwB;oBAAA0E,QAAA,EAAApG,YAAA;oBAAAqG,UAAA;oBAAAC,YAAA;kBAAA,OAC7C,CAAC;gBAAA;kBAAAF,QAAA,EAAApG,YAAA;kBAAAqG,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC;cAAA;gBAAAF,QAAA,EAAApG,YAAA;gBAAAqG,UAAA;gBAAAC,YAAA;cAAA,OACF,CAAC;YAAA;cAAAF,QAAA,EAAApG,YAAA;cAAAqG,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA;YAAAF,QAAA,EAAApG,YAAA;YAAAqG,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAF,QAAA,EAAApG,YAAA;UAAAqG,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAF,QAAA,EAAApG,YAAA;QAAAqG,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAF,QAAA,EAAApG,YAAA;MAAAqG,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGNhG,OAAA;MAAOwI,GAAG;MAAA3C,QAAA,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAApG,YAAA;MAAAqG,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAF,QAAA,EAAApG,YAAA;IAAAqG,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV;AAACrG,EAAA,CAj9BuBQ,eAAe;AAAAsI,EAAA,GAAftI,eAAe;AAAA,IAAAsI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}