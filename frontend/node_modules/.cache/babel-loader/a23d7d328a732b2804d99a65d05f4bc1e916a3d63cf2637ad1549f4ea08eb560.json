{"ast":null,"code":"// import { useState, useEffect } from 'react';\n\n// export default function DoctorDashboard() {\n//   const [patients, setPatients] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState('');\n//   const [editingPatient, setEditingPatient] = useState(null);\n//   const [showEditModal, setShowEditModal] = useState(false);\n//   const [familyHistory, setFamilyHistory] = useState([]);\n//   const [familyMembers, setFamilyMembers] = useState([]);\n//   const [familySummary, setFamilySummary] = useState({});\n//   const [saving, setSaving] = useState(false);\n//   const [loadingHistory, setLoadingHistory] = useState(false);\n//   const token = localStorage.getItem('token');\n\n//   // Fetch patients\n//   const fetchPatients = async () => {\n//     try {\n//       setLoading(true);\n//       console.log('Fetching patients...');\n//       const response = await fetch('http://localhost:8080/api/patients', {\n//         headers: { \n//           'Authorization': `Bearer ${token}`,\n//           'Content-Type': 'application/json'\n//         },\n//       });\n\n//       if (!response.ok) {\n//         throw new Error(`HTTP error! status: ${response.status}`);\n//       }\n\n//       const data = await response.json();\n//       console.log('Patients fetched:', data);\n//       setPatients(data || []);\n//       setError('');\n//     } catch (err) {\n//       setError('Failed to load patients');\n//       console.error('Error fetching patients:', err);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   // Fetch complete family history by phone number\n//   const fetchFamilyHistoryByPhone = async (phoneNumber) => {\n//     try {\n//       setLoadingHistory(true);\n//       console.log(`Fetching complete family history for phone ${phoneNumber}...`);\n//       const response = await fetch(`http://localhost:8080/api/patients/phone/${phoneNumber}/family-history`, {\n//         headers: { \n//           'Authorization': `Bearer ${token}`,\n//           'Content-Type': 'application/json'\n//         },\n//       });\n\n//       if (response.ok) {\n//         const data = await response.json();\n//         console.log('Complete family history:', data);\n//         setFamilyHistory(data.medical_history || []);\n//         setFamilyMembers(data.family_members || []);\n//         setFamilySummary(data.family_summary || {});\n//       } else {\n//         console.log('No family history found');\n//         setFamilyHistory([]);\n//         setFamilyMembers([]);\n//         setFamilySummary({});\n//       }\n//     } catch (err) {\n//       console.error('Failed to fetch family history:', err);\n//       setFamilyHistory([]);\n//       setFamilyMembers([]);\n//       setFamilySummary({});\n//     } finally {\n//       setLoadingHistory(false);\n//     }\n//   };\n\n//   // Update patient\n//   const updatePatient = async (e) => {\n//     e.preventDefault();\n//     setSaving(true);\n\n//     try {\n//       console.log('Updating patient:', editingPatient);\n\n//       const response = await fetch(`http://localhost:8080/api/patients/${editingPatient.id}`, {\n//         method: 'PUT',\n//         headers: {\n//           'Content-Type': 'application/json',\n//           'Authorization': `Bearer ${token}`,\n//         },\n//         body: JSON.stringify({\n//           name: editingPatient.name,\n//           age: editingPatient.age,\n//           gender: editingPatient.gender,\n//           phone_number: editingPatient.phone_number,\n//           relationship: editingPatient.relationship,\n//           diagnosis: editingPatient.diagnosis || '',\n//           medical_notes: editingPatient.medical_notes || '',\n//           prescriptions: editingPatient.prescriptions || '',\n//           last_checkup: editingPatient.last_checkup || '',\n//           next_appointment: editingPatient.next_appointment || ''\n//         }),\n//       });\n\n//       if (!response.ok) {\n//         const errorData = await response.text();\n//         throw new Error(`Failed to update patient: ${errorData}`);\n//       }\n\n//       const result = await response.json();\n//       console.log('Update result:', result);\n\n//       // Refresh patient list and family history\n//       await fetchPatients();\n//       await fetchFamilyHistoryByPhone(editingPatient.phone_number);\n\n//       alert('✅ Patient medical record updated successfully!');\n//     } catch (err) {\n//       alert(`❌ Error updating patient: ${err.message}`);\n//       console.error('Update error:', err);\n//     } finally {\n//       setSaving(false);\n//     }\n//   };\n\n//   // Open edit modal\n//   const handleEdit = async (patient) => {\n//     console.log('Editing patient:', patient);\n//     setEditingPatient({\n//       ...patient,\n//       medical_notes: patient.medical_notes || '',\n//       prescriptions: patient.prescriptions || '',\n//       last_checkup: patient.last_checkup || new Date().toISOString().split('T')[0],\n//       next_appointment: patient.next_appointment || ''\n//     });\n\n//     // Fetch complete family history by phone number\n//     await fetchFamilyHistoryByPhone(patient.phone_number);\n//     setShowEditModal(true);\n//   };\n\n//   // Close edit modal\n//   const handleCloseModal = () => {\n//     setShowEditModal(false);\n//     setEditingPatient(null);\n//     setFamilyHistory([]);\n//     setFamilyMembers([]);\n//     setFamilySummary({});\n//   };\n\n//   // Handle input changes\n//   const handleInputChange = (e) => {\n//     const { name, value } = e.target;\n//     setEditingPatient({\n//       ...editingPatient,\n//       [name]: value,\n//     });\n//   };\n\n//   // Get relationship emoji\n//   const getRelationshipEmoji = (relationship) => {\n//     const emojis = {\n//       'self': '👤',\n//       'son': '👦',\n//       'daughter': '👧',\n//       'mother': '👩',\n//       'father': '👨',\n//       'spouse': '💑',\n//       'brother': '👦',\n//       'sister': '👧',\n//       'grandfather': '👴',\n//       'grandmother': '👵',\n//       'other': '👥'\n//     };\n//     return emojis[relationship] || '👤';\n//   };\n\n//   // Get relationship display name\n//   const getRelationshipDisplay = (relationship) => {\n//     const displays = {\n//       'self': 'Self',\n//       'son': 'Son',\n//       'daughter': 'Daughter',\n//       'mother': 'Mother',\n//       'father': 'Father',\n//       'spouse': 'Spouse',\n//       'brother': 'Brother',\n//       'sister': 'Sister',\n//       'grandfather': 'Grandfather',\n//       'grandmother': 'Grandmother',\n//       'other': 'Other'\n//     };\n//     return displays[relationship] || 'Unknown';\n//   };\n\n//   useEffect(() => {\n//     fetchPatients();\n//   }, []);\n\n//   return (\n//     <div className=\"content\">\n//       <div className=\"content-card\">\n//         <div className=\"dashboard-header\">\n//           <h1 className=\"dashboard-title\">👨‍⚕️ Doctor Dashboard</h1>\n//           <p className=\"dashboard-subtitle\">Review and update patient medical records with family history tracking</p>\n//         </div>\n\n//         {/* Enhanced Stats cards */}\n//         <div className=\"stats-grid\">\n//           <div className=\"stat-card green\">\n//             <div className=\"stat-info\">\n//               <h3>Total Patients</h3>\n//               <p>{patients.length}</p>\n//             </div>\n//             <div className=\"stat-icon\">👥</div>\n//           </div>\n\n//           <div className=\"stat-card blue\">\n//             <div className=\"stat-info\">\n//               <h3>Active Cases</h3>\n//               <p>{patients.filter(p => p.diagnosis && p.diagnosis !== 'None specified' && p.diagnosis !== '').length}</p>\n//             </div>\n//             <div className=\"stat-icon\">📋</div>\n//           </div>\n\n//           <div className=\"stat-card purple\">\n//             <div className=\"stat-info\">\n//               <h3>Family Patients</h3>\n//               <p>{patients.filter(p => p.relationship !== 'self').length}</p>\n//             </div>\n//             <div className=\"stat-icon\">👨‍👩‍👧‍👦</div>\n//           </div>\n\n//           <div className=\"stat-card orange\">\n//             <div className=\"stat-info\">\n//               <h3>Today's Updates</h3>\n//               <p>{patients.filter(p => p.updated_at && new Date(p.updated_at).toDateString() === new Date().toDateString()).length}</p>\n//             </div>\n//             <div className=\"stat-icon\">🩺</div>\n//           </div>\n//         </div>\n\n//         {/* Patient Records */}\n//         <div style={{ marginTop: '40px' }}>\n//           <h2 style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '16px' }}>\n//             📋 Patient Records\n//           </h2>\n//           <p style={{ color: '#6b7280', marginBottom: '24px' }}>\n//             Click on any patient to view their complete family medical history and update current condition\n//           </p>\n\n//           {loading && (\n//             <div style={{ textAlign: 'center', padding: '40px' }}>\n//               <p>🔄 Loading patients...</p>\n//             </div>\n//           )}\n\n//           {error && (\n//             <div style={{ textAlign: 'center', padding: '40px' }}>\n//               <p className=\"error-message\">❌ {error}</p>\n//               <button \n//                 onClick={fetchPatients}\n//                 style={{ \n//                   marginTop: '10px', \n//                   padding: '8px 16px', \n//                   backgroundColor: '#3b82f6', \n//                   color: 'white', \n//                   border: 'none', \n//                   borderRadius: '4px',\n//                   cursor: 'pointer'\n//                 }}\n//               >\n//                 🔄 Retry\n//               </button>\n//             </div>\n//           )}\n\n//           {!loading && !error && (\n//             <>\n//               {patients.length === 0 ? (\n//                 <div style={{ textAlign: 'center', padding: '40px' }}>\n//                   <p>📭 No patients found.</p>\n//                 </div>\n//               ) : (\n//                 <div className=\"patient-grid\">\n//                   {patients.map((patient) => {\n//                     const hasHistory = patient.medical_history && patient.medical_history.length > 0;\n//                     return (\n//                       <div key={patient.id} className={`patient-card ${hasHistory ? 'returning-patient' : 'new-patient'}`}>\n//                         <div className=\"patient-header\">\n//                           <h3 className=\"patient-name\">\n//                             {getRelationshipEmoji(patient.relationship)} {patient.name}\n//                           </h3>\n//                           <div className=\"patient-badges\">\n//                             <span className=\"patient-id\">ID: {patient.id}</span>\n//                             <span className=\"relationship-badge\">\n//                               {getRelationshipDisplay(patient.relationship)}\n//                             </span>\n//                             {hasHistory && <span className=\"returning-badge\">🔄 Has History</span>}\n//                           </div>\n//                         </div>\n\n//                         <div className=\"patient-details\">\n//                           <div className=\"patient-detail\">\n//                             👤 Age: {patient.age} years | Gender: {patient.gender}\n//                           </div>\n//                           <div className=\"patient-detail\">\n//                             📞 Phone: {patient.phone_number}\n//                           </div>\n//                           <div className=\"patient-detail relationship-info\">\n//                             👥 Relationship: {getRelationshipDisplay(patient.relationship)}\n//                           </div>\n//                           <div className=\"patient-detail\">\n//                             🏥 Current Diagnosis: {patient.diagnosis || 'None specified'}\n//                           </div>\n//                           {patient.prescriptions && (\n//                             <div className=\"patient-detail\">\n//                               💊 Current Medications: {patient.prescriptions}\n//                             </div>\n//                           )}\n//                           {patient.last_checkup && (\n//                             <div className=\"patient-detail\">\n//                               🗓️ Last Checkup: {patient.last_checkup}\n//                             </div>\n//                           )}\n//                           {hasHistory && (\n//                             <div className=\"patient-detail history-indicator\">\n//                               📚 Previous Visits: {patient.medical_history.length}\n//                             </div>\n//                           )}\n//                           {patient.updated_at && (\n//                             <div className=\"patient-detail\">\n//                               ⏰ Last Updated: {new Date(patient.updated_at).toLocaleDateString()}\n//                             </div>\n//                           )}\n//                         </div>\n\n//                         <div className=\"patient-actions\">\n//                           <button \n//                             className=\"btn btn-edit\"\n//                             onClick={() => handleEdit(patient)}\n//                           >\n//                             {hasHistory ? '📚 View Family History & Update' : '✏️ Add First Medical Record'}\n//                           </button>\n//                         </div>\n//                       </div>\n//                     );\n//                   })}\n//                 </div>\n//               )}\n//             </>\n//           )}\n//         </div>\n\n//         {/* Enhanced Edit Modal with Family History */}\n//         {showEditModal && editingPatient && (\n//           <div className=\"modal-overlay\">\n//             <div className=\"modal-content family-modal\">\n//               <div className=\"modal-header\">\n//                 <div className=\"patient-info-header\">\n//                   <h2 className=\"modal-title\">\n//                     🩺 Medical Record - {getRelationshipEmoji(editingPatient.relationship)} {editingPatient.name}\n//                   </h2>\n//                   <div className=\"patient-status\">\n//                     {familySummary.has_history ? (\n//                       <span className=\"status-badge family-history\">\n//                         👨‍👩‍👧‍👦 Family History ({familySummary.total_visits} total visits)\n//                       </span>\n//                     ) : (\n//                       <span className=\"status-badge new-family\">\n//                         ✨ New Family (First Visit)\n//                       </span>\n//                     )}\n//                   </div>\n//                 </div>\n//                 <p className=\"modal-subtitle\">\n//                   📞 Phone: {editingPatient.phone_number} | 👥 Relationship: {getRelationshipDisplay(editingPatient.relationship)} | \n//                   👤 Age: {editingPatient.age} | Gender: {editingPatient.gender}\n//                 </p>\n//                 <button \n//                   className=\"modal-close\"\n//                   onClick={handleCloseModal}\n//                   style={{\n//                     position: 'absolute',\n//                     top: '16px',\n//                     right: '16px',\n//                     background: 'none',\n//                     border: 'none',\n//                     fontSize: '24px',\n//                     cursor: 'pointer',\n//                     color: '#6b7280'\n//                   }}\n//                 >\n//                   ✕\n//                 </button>\n//               </div>\n\n//               <div className=\"modal-body\">\n//                 {/* Family History Section */}\n//                 <div className=\"history-section\">\n//                   <h3 className=\"section-title\">\n//                     👨‍👩‍👧‍👦 Family Medical History \n//                     {familySummary.has_history && (\n//                       <span className=\"visit-count\">\n//                         ({familySummary.unique_members} members, {familySummary.total_visits} visits)\n//                       </span>\n//                     )}\n//                   </h3>\n\n//                   {loadingHistory ? (\n//                     <div className=\"loading-history\">🔄 Loading family history...</div>\n//                   ) : (\n//                     <>\n//                       {/* Family Members Summary */}\n//                       {familyMembers.length > 1 && (\n//                         <div className=\"family-members-section\">\n//                           <h4 className=\"subsection-title\">👥 Family Members Using This Phone</h4>\n//                           <div className=\"family-members-grid\">\n//                             {familyMembers.map((member, index) => (\n//                               <div key={member.id} className={`family-member-card ${member.id === editingPatient.id ? 'current-patient' : ''}`}>\n//                                 <div className=\"member-info\">\n//                                   <span className=\"member-name\">\n//                                     {getRelationshipEmoji(member.relationship)} {member.name}\n//                                   </span>\n//                                   <span className=\"member-details\">\n//                                     {getRelationshipDisplay(member.relationship)} | Age: {member.age}\n//                                   </span>\n//                                   {member.id === editingPatient.id && (\n//                                     <span className=\"current-badge\">Current Patient</span>\n//                                   )}\n//                                 </div>\n//                               </div>\n//                             ))}\n//                           </div>\n//                         </div>\n//                       )}\n\n//                       {/* Medical Visit History */}\n//                       {familyHistory.length > 0 ? (\n//                         <div className=\"history-list\">\n//                           <h4 className=\"subsection-title\">🩺 Medical Visit History</h4>\n//                           {familyHistory.map((history, index) => (\n//                             <div key={history.id || index} className=\"history-item\">\n//                               <div className=\"history-header\">\n//                                 <div className=\"visit-info\">\n//                                   <span className=\"visit-date\">\n//                                     🗓️ {new Date(history.visit_date).toLocaleDateString()} \n//                                     {new Date(history.visit_date).toDateString() === new Date().toDateString() && \n//                                       <span className=\"today-badge\">Today</span>\n//                                     }\n//                                   </span>\n//                                   <span className=\"patient-info\">\n//                                     {getRelationshipEmoji(history.relationship)} {history.patient_name} \n//                                     ({getRelationshipDisplay(history.relationship)}, Age: {history.age})\n//                                   </span>\n//                                 </div>\n//                                 <span className=\"doctor-name\">\n//                                   👨‍⚕️ {history.doctor_name}\n//                                 </span>\n//                               </div>\n//                               <div className=\"history-details\">\n//                                 {history.diagnosis && (\n//                                   <p><strong>🏥 Diagnosis:</strong> {history.diagnosis}</p>\n//                                 )}\n//                                 {history.medical_notes && (\n//                                   <p><strong>📝 Notes:</strong> {history.medical_notes}</p>\n//                                 )}\n//                                 {history.prescriptions && (\n//                                   <p><strong>💊 Prescriptions:</strong> {history.prescriptions}</p>\n//                                 )}\n//                               </div>\n//                             </div>\n//                           ))}\n//                         </div>\n//                       ) : (\n//                         <div className=\"no-history\">\n//                           <div className=\"no-history-icon\">📝</div>\n//                           <p>No previous medical history found for this phone number.</p>\n//                           <p>This will be the first medical record for this family.</p>\n//                         </div>\n//                       )}\n//                     </>\n//                   )}\n//                 </div>\n\n//                 {/* Current Update Form */}\n//                 <div className=\"update-section\">\n//                   <h3 className=\"section-title\">\n//                     🩺 Current Visit - {getRelationshipEmoji(editingPatient.relationship)} {editingPatient.name}\n//                     <span className=\"patient-relationship\">({getRelationshipDisplay(editingPatient.relationship)})</span>\n//                   </h3>\n//                   <form onSubmit={updatePatient}>\n//                     <div className=\"form-group\">\n//                       <label className=\"form-label\">\n//                         🏥 Current Diagnosis *\n//                         <span className=\"helper-text\">What is the current medical condition or complaint?</span>\n//                       </label>\n//                       <textarea\n//                         name=\"diagnosis\"\n//                         className=\"form-input\"\n//                         value={editingPatient.diagnosis || ''}\n//                         onChange={handleInputChange}\n//                         placeholder=\"e.g., Cough, Cold, Fever, Headache...\"\n//                         rows=\"3\"\n//                         required\n//                       />\n//                     </div>\n\n//                     <div className=\"form-group\">\n//                       <label className=\"form-label\">\n//                         📝 Medical Notes\n//                         <span className=\"helper-text\">Detailed observations, symptoms, examination findings</span>\n//                       </label>\n//                       <textarea\n//                         name=\"medical_notes\"\n//                         className=\"form-input\"\n//                         value={editingPatient.medical_notes || ''}\n//                         onChange={handleInputChange}\n//                         placeholder=\"Enter detailed medical notes, observations, symptoms, examination findings...\"\n//                         rows=\"4\"\n//                       />\n//                     </div>\n\n//                     <div className=\"form-group\">\n//                       <label className=\"form-label\">\n//                         💊 Prescriptions\n//                         <span className=\"helper-text\">Medications with dosage and frequency</span>\n//                       </label>\n//                       <textarea\n//                         name=\"prescriptions\"\n//                         className=\"form-input\"\n//                         value={editingPatient.prescriptions || ''}\n//                         onChange={handleInputChange}\n//                         placeholder=\"e.g., Paracetamol 500mg - 2 times daily after meals&#10;Amoxicillin 250mg - 3 times daily for 7 days\"\n//                         rows=\"3\"\n//                       />\n//                     </div>\n\n//                     <div className=\"form-row\">\n//                       <div className=\"form-group\">\n//                         <label className=\"form-label\">📅 Checkup Date</label>\n//                         <input\n//                           type=\"date\"\n//                           name=\"last_checkup\"\n//                           className=\"form-input\"\n//                           value={editingPatient.last_checkup || ''}\n//                           onChange={handleInputChange}\n//                         />\n//                       </div>\n\n//                       <div className=\"form-group\">\n//                         <label className=\"form-label\">🗓️ Next Appointment</label>\n//                         <input\n//                           type=\"date\"\n//                           name=\"next_appointment\"\n//                           className=\"form-input\"\n//                           value={editingPatient.next_appointment || ''}\n//                           onChange={handleInputChange}\n//                           min={new Date().toISOString().split('T')[0]}\n//                         />\n//                       </div>\n//                     </div>\n\n//                     <div className=\"form-actions\">\n//                       <button \n//                         type=\"button\" \n//                         className=\"btn btn-cancel\"\n//                         onClick={handleCloseModal}\n//                         disabled={saving}\n//                       >\n//                         Cancel\n//                       </button>\n//                       <button \n//                         type=\"submit\" \n//                         className=\"btn btn-submit\"\n//                         disabled={saving}\n//                       >\n//                         {saving ? '💾 Saving...' : '💾 Save Medical Record'}\n//                       </button>\n//                     </div>\n//                   </form>\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         )}\n//       </div>\n\n//       {/* Enhanced Styles */}\n//       <style jsx>{`\n//         .family-modal .modal-content {\n//           max-width: 1300px;\n//           max-height: 95vh;\n//           overflow-y: auto;\n//           position: relative;\n//         }\n\n//         .patient-info-header {\n//           display: flex;\n//           justify-content: space-between;\n//           align-items: center;\n//           margin-bottom: 8px;\n//         }\n\n//         .patient-status {\n//           display: flex;\n//           gap: 8px;\n//         }\n\n//         .status-badge {\n//           padding: 6px 12px;\n//           border-radius: 20px;\n//           font-size: 12px;\n//           font-weight: 600;\n//         }\n\n//         .status-badge.family-history {\n//           background: #dbeafe;\n//           color: #1e40af;\n//         }\n\n//         .status-badge.new-family {\n//           background: #dcfce7;\n//           color: #166534;\n//         }\n\n//         .returning-patient {\n//           border-left: 4px solid #3b82f6;\n//         }\n\n//         .new-patient {\n//           border-left: 4px solid #10b981;\n//         }\n\n//         .patient-badges {\n//           display: flex;\n//           flex-direction: column;\n//           align-items: flex-end;\n//           gap: 4px;\n//         }\n\n//         .relationship-badge {\n//           background: #f3e8ff;\n//           color: #7c3aed;\n//           padding: 2px 8px;\n//           border-radius: 12px;\n//           font-size: 11px;\n//           font-weight: 600;\n//         }\n\n//         .returning-badge {\n//           background: #dbeafe;\n//           color: #1e40af;\n//           padding: 2px 8px;\n//           border-radius: 12px;\n//           font-size: 11px;\n//           font-weight: 600;\n//         }\n\n//         .relationship-info {\n//           background: #f3e8ff;\n//           color: #7c3aed;\n//           padding: 4px 8px;\n//           border-radius: 4px;\n//           font-weight: 500;\n//         }\n\n//         .history-indicator {\n//           background: #f0f9ff;\n//           color: #0369a1;\n//           padding: 4px 8px;\n//           border-radius: 4px;\n//           font-weight: 500;\n//         }\n\n//         .modal-body {\n//           display: flex;\n//           gap: 30px;\n//           padding: 20px;\n//         }\n\n//         .history-section {\n//           flex: 1.3;\n//           border-right: 1px solid #e5e7eb;\n//           padding-right: 20px;\n//         }\n\n//         .update-section {\n//           flex: 1;\n//           padding-left: 20px;\n//         }\n\n//         .section-title {\n//           font-size: 18px;\n//           font-weight: bold;\n//           margin-bottom: 16px;\n//           color: #374151;\n//           display: flex;\n//           align-items: center;\n//           gap: 8px;\n//         }\n\n//         .visit-count {\n//           font-size: 14px;\n//           color: #6b7280;\n//           font-weight: normal;\n//         }\n\n//         .patient-relationship {\n//           font-size: 14px;\n//           color: #7c3aed;\n//           font-weight: normal;\n//         }\n\n//         .subsection-title {\n//           font-size: 16px;\n//           font-weight: 600;\n//           margin: 16px 0 12px 0;\n//           color: #4b5563;\n//         }\n\n//         .loading-history {\n//           text-align: center;\n//           padding: 40px;\n//           color: #6b7280;\n//         }\n\n//         .family-members-section {\n//           margin-bottom: 24px;\n//         }\n\n//         .family-members-grid {\n//           display: grid;\n//           gap: 8px;\n//           margin-bottom: 16px;\n//         }\n\n//         .family-member-card {\n//           background: #f9fafb;\n//           border: 1px solid #e5e7eb;\n//           border-radius: 8px;\n//           padding: 12px;\n//         }\n\n//         .current-patient {\n//           background: #dbeafe;\n//           border-color: #3b82f6;\n//         }\n\n//         .member-info {\n//           display: flex;\n//           justify-content: space-between;\n//           align-items: center;\n//         }\n\n//         .member-name {\n//           font-weight: 600;\n//           color: #374151;\n//         }\n\n//         .member-details {\n//           font-size: 12px;\n//           color: #6b7280;\n//         }\n\n//         .current-badge {\n//           background: #3b82f6;\n//           color: white;\n//           padding: 2px 8px;\n//           border-radius: 12px;\n//           font-size: 10px;\n//           font-weight: 600;\n//         }\n\n//         .history-list {\n//           max-height: 500px;\n//           overflow-y: auto;\n//         }\n\n//         .history-item {\n//           background: #f9fafb;\n//           border: 1px solid #e5e7eb;\n//           border-radius: 8px;\n//           padding: 16px;\n//           margin-bottom: 12px;\n//         }\n\n//         .history-header {\n//           display: flex;\n//           justify-content: space-between;\n//           margin-bottom: 8px;\n//           font-size: 14px;\n//           color: #6b7280;\n//         }\n\n//         .visit-info {\n//           display: flex;\n//           flex-direction: column;\n//           gap: 4px;\n//         }\n\n//         .patient-info {\n//           font-weight: 500;\n//           color: #374151;\n//         }\n\n//         .today-badge {\n//           background: #fef3c7;\n//           color: #92400e;\n//           padding: 2px 6px;\n//           border-radius: 8px;\n//           font-size: 10px;\n//           margin-left: 8px;\n//         }\n\n//         .history-details p {\n//           margin: 6px 0;\n//           font-size: 14px;\n//           line-height: 1.4;\n//         }\n\n//         .no-history {\n//           text-align: center;\n//           padding: 40px;\n//           background: #f9fafb;\n//           border-radius: 8px;\n//           border: 2px dashed #d1d5db;\n//         }\n\n//         .no-history-icon {\n//           font-size: 48px;\n//           margin-bottom: 16px;\n//         }\n\n//         .no-history p {\n//           color: #6b7280;\n//           margin: 8px 0;\n//         }\n\n//         .form-row {\n//           display: flex;\n//           gap: 16px;\n//         }\n\n//         .form-row .form-group {\n//           flex: 1;\n//         }\n\n//         .form-group {\n//           margin-bottom: 16px;\n//         }\n\n//         .form-label {\n//           display: block;\n//           margin-bottom: 6px;\n//           font-weight: 600;\n//           color: #374151;\n//           font-size: 14px;\n//         }\n\n//         .helper-text {\n//           display: block;\n//           font-size: 12px;\n//           color: #6b7280;\n//           font-weight: normal;\n//           margin-top: 2px;\n//         }\n\n//         .form-input {\n//           width: 100%;\n//           padding: 10px 12px;\n//           border: 1px solid #d1d5db;\n//           border-radius: 6px;\n//           font-size: 14px;\n//           transition: border-color 0.2s;\n//         }\n\n//         .form-input:focus {\n//           outline: none;\n//           border-color: #3b82f6;\n//           box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n//         }\n\n//         .form-actions {\n//           display: flex;\n//           gap: 12px;\n//           justify-content: flex-end;\n//           margin-top: 24px;\n//           padding-top: 20px;\n//           border-top: 1px solid #e5e7eb;\n//         }\n\n//         .btn {\n//           padding: 12px 24px;\n//           border: none;\n//           border-radius: 6px;\n//           font-weight: 600;\n//           cursor: pointer;\n//           transition: all 0.2s;\n//           font-size: 14px;\n//         }\n\n//         .btn:disabled {\n//           opacity: 0.6;\n//           cursor: not-allowed;\n//         }\n\n//         .btn-cancel {\n//           background: #f3f4f6;\n//           color: #374151;\n//         }\n\n//         .btn-cancel:hover:not(:disabled) {\n//           background: #e5e7eb;\n//         }\n\n//         .btn-submit {\n//           background: #3b82f6;\n//           color: white;\n//         }\n\n//         .btn-submit:hover:not(:disabled) {\n//           background: #2563eb;\n//         }\n\n//         .stats-grid {\n//           display: grid;\n//           grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n//           gap: 20px;\n//           margin-bottom: 30px;\n//         }\n\n//         .stat-card.orange {\n//           background: linear-gradient(135deg, #fed7aa 0%, #fb923c 100%);\n//           color: white;\n//         }\n//       `}</style>\n//     </div>\n//   );\n// }\n\n\"use client\";\n\nvar _jsxFileName = \"/Users/sathwik/hospital-portal/frontend/src/pages/DoctorDashboard.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DoctorDashboard = () => {\n  _s();\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [showUpdateForm, setShowUpdateForm] = useState(false);\n  const [updateData, setUpdateData] = useState({\n    diagnosis: \"\",\n    medical_notes: \"\",\n    prescriptions: \"\",\n    next_appointment: \"\"\n  });\n  const [loading, setLoading] = useState(true);\n  const fetchPatients = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await fetch(\"http://localhost:8080/api/patients\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (res.ok) {\n        const data = await res.json();\n        setPatients(data || []);\n      } else {\n        console.error(\"Failed to fetch patients\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching patients:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchPatients();\n  }, []);\n  const handleUpdatePatient = async e => {\n    e.preventDefault();\n    if (!selectedPatient) return;\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await fetch(`http://localhost:8080/api/patients/${selectedPatient.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          ...selectedPatient,\n          ...updateData\n        })\n      });\n      if (res.ok) {\n        alert(\"✅ Patient updated successfully\");\n        await fetchPatients();\n        setShowUpdateForm(false);\n        setSelectedPatient(null);\n        setUpdateData({\n          diagnosis: \"\",\n          medical_notes: \"\",\n          prescriptions: \"\",\n          next_appointment: \"\"\n        });\n      } else {\n        const errorData = await res.json();\n        alert(`❌ Failed to update patient: ${errorData.error}`);\n      }\n    } catch (error) {\n      alert(\"❌ Network error\");\n    }\n  };\n  const openUpdateForm = patient => {\n    setSelectedPatient(patient);\n    setUpdateData({\n      diagnosis: patient.diagnosis || \"\",\n      medical_notes: patient.medical_notes || \"\",\n      prescriptions: patient.prescriptions || \"\",\n      next_appointment: patient.next_appointment || \"\"\n    });\n    setShowUpdateForm(true);\n  };\n  const closeUpdateForm = () => {\n    setShowUpdateForm(false);\n    setSelectedPatient(null);\n    setUpdateData({\n      diagnosis: \"\",\n      medical_notes: \"\",\n      prescriptions: \"\",\n      next_appointment: \"\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-green-600 to-blue-600 text-white p-6 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold mb-2\",\n        children: \"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Doctor Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1054,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-green-100\",\n        children: \"View and manage patient medical records\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1055,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1053,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-sm\",\n              children: \"Total Patients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1063,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-3xl font-bold text-gray-900\",\n              children: patients.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1064,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1062,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-4xl text-blue-500\",\n            children: \"\\uD83D\\uDC65\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1066,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1061,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1060,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-sm\",\n              children: \"Active Cases\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-3xl font-bold text-gray-900\",\n              children: patients.filter(p => p.diagnosis && p.diagnosis.trim() !== \"\").length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1074,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-4xl text-green-500\",\n            children: \"\\uD83C\\uDFE5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1078,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1070,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-md border-l-4 border-purple-500\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-sm\",\n              children: \"With Prescriptions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1085,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-3xl font-bold text-gray-900\",\n              children: patients.filter(p => p.prescriptions && p.prescriptions.trim() !== \"\").length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1086,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1084,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-4xl text-purple-500\",\n            children: \"\\uD83D\\uDC8A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1090,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1083,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1082,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-md border-l-4 border-orange-500\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-sm\",\n              children: \"Follow-ups\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1097,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-3xl font-bold text-gray-900\",\n              children: patients.filter(p => p.next_appointment && p.next_appointment.trim() !== \"\").length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1098,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1096,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-4xl text-orange-500\",\n            children: \"\\uD83D\\uDCC5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1094,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1059,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900\",\n          children: \"\\uD83D\\uDCCB Patient Records\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1109,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-gray-600\",\n          children: \"Loading patients...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1114,\n        columnNumber: 11\n      }, this) : patients.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 text-center text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-4xl mb-2\",\n          children: \"\\uD83D\\uDCCB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No patient records found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1119,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Patient Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1128,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Contact\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1131,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Medical Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1134,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1137,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1127,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: patients.map(patient => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm font-medium text-gray-900\",\n                      children: patient.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1148,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [\"ID: \", patient.id, \" \\u2022 Age: \", patient.age, \" \\u2022 \", patient.gender || \"N/A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1149,\n                      columnNumber: 27\n                    }, this), patient.relationship && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mt-1\",\n                      children: patient.relationship\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1153,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1147,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1146,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1145,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                children: patient.phone_number || \"N/A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1160,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-900\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium\",\n                    children: patient.diagnosis || \"No diagnosis\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1165,\n                    columnNumber: 25\n                  }, this), patient.medical_notes && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-gray-500 mt-1\",\n                    children: [\"Notes: \", patient.medical_notes.substring(0, 50), patient.medical_notes.length > 50 ? \"...\" : \"\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1167,\n                    columnNumber: 27\n                  }, this), patient.prescriptions && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-blue-600 mt-1\",\n                    children: \"\\uD83D\\uDC8A Prescribed\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1172,\n                    columnNumber: 51\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1164,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1163,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm font-medium\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openUpdateForm(patient),\n                  className: \"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors\",\n                  children: \"\\uD83D\\uDCDD Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1176,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1175,\n                columnNumber: 21\n              }, this)]\n            }, patient.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1144,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1142,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1125,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1124,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1108,\n      columnNumber: 7\n    }, this), showUpdateForm && selectedPatient && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900 mb-4\",\n            children: [\"\\uD83D\\uDCDD Update Medical Record - \", selectedPatient.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleUpdatePatient,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Diagnosis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1202,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: updateData.diagnosis,\n                onChange: e => setUpdateData({\n                  ...updateData,\n                  diagnosis: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n                placeholder: \"Enter diagnosis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1203,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Medical Notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1213,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: updateData.medical_notes,\n                onChange: e => setUpdateData({\n                  ...updateData,\n                  medical_notes: e.target.value\n                }),\n                rows: 3,\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n                placeholder: \"Enter medical notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1214,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Prescriptions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1224,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: updateData.prescriptions,\n                onChange: e => setUpdateData({\n                  ...updateData,\n                  prescriptions: e.target.value\n                }),\n                rows: 3,\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n                placeholder: \"Enter prescriptions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1225,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1223,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Next Appointment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1235,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: updateData.next_appointment,\n                onChange: e => setUpdateData({\n                  ...updateData,\n                  next_appointment: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n                placeholder: \"e.g., Next week, 2024-01-15, etc.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1236,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1234,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-3 pt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDCBE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1250,\n                  columnNumber: 21\n                }, this), \"Update Record\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1246,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: closeUpdateForm,\n                className: \"bg-gray-500 text-white px-6 py-2 rounded-lg font-medium hover:bg-gray-600 transition-colors\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1253,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1245,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1200,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1195,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1194,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1193,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1051,\n    columnNumber: 5\n  }, this);\n};\n_s(DoctorDashboard, \"AKN3HbHztPi9QXOgDNoEjocVf6A=\");\n_c = DoctorDashboard;\nexport default DoctorDashboard;\nvar _c;\n$RefreshReg$(_c, \"DoctorDashboard\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useEffect","useState","jsxDEV","_jsxDEV","DoctorDashboard","patients","setPatients","selectedPatient","setSelectedPatient","showUpdateForm","setShowUpdateForm","updateData","setUpdateData","diagnosis","medical_notes","prescriptions","next_appointment","loading","setLoading","fetchPatients","token","localStorage","getItem","res","fetch","headers","Authorization","ok","data","json","console","error","handleUpdatePatient","e","preventDefault","id","method","body","JSON","stringify","alert","errorData","openUpdateForm","patient","closeUpdateForm","className","children","fileName","lineNumber","columnNumber","length","filter","p","trim","map","name","age","gender","relationship","phone_number","substring","onClick","onSubmit","type","value","onChange","target","placeholder","rows","_c","$RefreshReg$"],"sources":["/Users/sathwik/hospital-portal/frontend/src/pages/DoctorDashboard.jsx"],"sourcesContent":["// import { useState, useEffect } from 'react';\n\n// export default function DoctorDashboard() {\n//   const [patients, setPatients] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState('');\n//   const [editingPatient, setEditingPatient] = useState(null);\n//   const [showEditModal, setShowEditModal] = useState(false);\n//   const [familyHistory, setFamilyHistory] = useState([]);\n//   const [familyMembers, setFamilyMembers] = useState([]);\n//   const [familySummary, setFamilySummary] = useState({});\n//   const [saving, setSaving] = useState(false);\n//   const [loadingHistory, setLoadingHistory] = useState(false);\n//   const token = localStorage.getItem('token');\n\n//   // Fetch patients\n//   const fetchPatients = async () => {\n//     try {\n//       setLoading(true);\n//       console.log('Fetching patients...');\n//       const response = await fetch('http://localhost:8080/api/patients', {\n//         headers: { \n//           'Authorization': `Bearer ${token}`,\n//           'Content-Type': 'application/json'\n//         },\n//       });\n      \n//       if (!response.ok) {\n//         throw new Error(`HTTP error! status: ${response.status}`);\n//       }\n      \n//       const data = await response.json();\n//       console.log('Patients fetched:', data);\n//       setPatients(data || []);\n//       setError('');\n//     } catch (err) {\n//       setError('Failed to load patients');\n//       console.error('Error fetching patients:', err);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   // Fetch complete family history by phone number\n//   const fetchFamilyHistoryByPhone = async (phoneNumber) => {\n//     try {\n//       setLoadingHistory(true);\n//       console.log(`Fetching complete family history for phone ${phoneNumber}...`);\n//       const response = await fetch(`http://localhost:8080/api/patients/phone/${phoneNumber}/family-history`, {\n//         headers: { \n//           'Authorization': `Bearer ${token}`,\n//           'Content-Type': 'application/json'\n//         },\n//       });\n      \n//       if (response.ok) {\n//         const data = await response.json();\n//         console.log('Complete family history:', data);\n//         setFamilyHistory(data.medical_history || []);\n//         setFamilyMembers(data.family_members || []);\n//         setFamilySummary(data.family_summary || {});\n//       } else {\n//         console.log('No family history found');\n//         setFamilyHistory([]);\n//         setFamilyMembers([]);\n//         setFamilySummary({});\n//       }\n//     } catch (err) {\n//       console.error('Failed to fetch family history:', err);\n//       setFamilyHistory([]);\n//       setFamilyMembers([]);\n//       setFamilySummary({});\n//     } finally {\n//       setLoadingHistory(false);\n//     }\n//   };\n\n//   // Update patient\n//   const updatePatient = async (e) => {\n//     e.preventDefault();\n//     setSaving(true);\n    \n//     try {\n//       console.log('Updating patient:', editingPatient);\n      \n//       const response = await fetch(`http://localhost:8080/api/patients/${editingPatient.id}`, {\n//         method: 'PUT',\n//         headers: {\n//           'Content-Type': 'application/json',\n//           'Authorization': `Bearer ${token}`,\n//         },\n//         body: JSON.stringify({\n//           name: editingPatient.name,\n//           age: editingPatient.age,\n//           gender: editingPatient.gender,\n//           phone_number: editingPatient.phone_number,\n//           relationship: editingPatient.relationship,\n//           diagnosis: editingPatient.diagnosis || '',\n//           medical_notes: editingPatient.medical_notes || '',\n//           prescriptions: editingPatient.prescriptions || '',\n//           last_checkup: editingPatient.last_checkup || '',\n//           next_appointment: editingPatient.next_appointment || ''\n//         }),\n//       });\n      \n//       if (!response.ok) {\n//         const errorData = await response.text();\n//         throw new Error(`Failed to update patient: ${errorData}`);\n//       }\n      \n//       const result = await response.json();\n//       console.log('Update result:', result);\n      \n//       // Refresh patient list and family history\n//       await fetchPatients();\n//       await fetchFamilyHistoryByPhone(editingPatient.phone_number);\n      \n//       alert('✅ Patient medical record updated successfully!');\n//     } catch (err) {\n//       alert(`❌ Error updating patient: ${err.message}`);\n//       console.error('Update error:', err);\n//     } finally {\n//       setSaving(false);\n//     }\n//   };\n\n//   // Open edit modal\n//   const handleEdit = async (patient) => {\n//     console.log('Editing patient:', patient);\n//     setEditingPatient({\n//       ...patient,\n//       medical_notes: patient.medical_notes || '',\n//       prescriptions: patient.prescriptions || '',\n//       last_checkup: patient.last_checkup || new Date().toISOString().split('T')[0],\n//       next_appointment: patient.next_appointment || ''\n//     });\n    \n//     // Fetch complete family history by phone number\n//     await fetchFamilyHistoryByPhone(patient.phone_number);\n//     setShowEditModal(true);\n//   };\n\n//   // Close edit modal\n//   const handleCloseModal = () => {\n//     setShowEditModal(false);\n//     setEditingPatient(null);\n//     setFamilyHistory([]);\n//     setFamilyMembers([]);\n//     setFamilySummary({});\n//   };\n\n//   // Handle input changes\n//   const handleInputChange = (e) => {\n//     const { name, value } = e.target;\n//     setEditingPatient({\n//       ...editingPatient,\n//       [name]: value,\n//     });\n//   };\n\n//   // Get relationship emoji\n//   const getRelationshipEmoji = (relationship) => {\n//     const emojis = {\n//       'self': '👤',\n//       'son': '👦',\n//       'daughter': '👧',\n//       'mother': '👩',\n//       'father': '👨',\n//       'spouse': '💑',\n//       'brother': '👦',\n//       'sister': '👧',\n//       'grandfather': '👴',\n//       'grandmother': '👵',\n//       'other': '👥'\n//     };\n//     return emojis[relationship] || '👤';\n//   };\n\n//   // Get relationship display name\n//   const getRelationshipDisplay = (relationship) => {\n//     const displays = {\n//       'self': 'Self',\n//       'son': 'Son',\n//       'daughter': 'Daughter',\n//       'mother': 'Mother',\n//       'father': 'Father',\n//       'spouse': 'Spouse',\n//       'brother': 'Brother',\n//       'sister': 'Sister',\n//       'grandfather': 'Grandfather',\n//       'grandmother': 'Grandmother',\n//       'other': 'Other'\n//     };\n//     return displays[relationship] || 'Unknown';\n//   };\n\n//   useEffect(() => {\n//     fetchPatients();\n//   }, []);\n\n//   return (\n//     <div className=\"content\">\n//       <div className=\"content-card\">\n//         <div className=\"dashboard-header\">\n//           <h1 className=\"dashboard-title\">👨‍⚕️ Doctor Dashboard</h1>\n//           <p className=\"dashboard-subtitle\">Review and update patient medical records with family history tracking</p>\n//         </div>\n\n//         {/* Enhanced Stats cards */}\n//         <div className=\"stats-grid\">\n//           <div className=\"stat-card green\">\n//             <div className=\"stat-info\">\n//               <h3>Total Patients</h3>\n//               <p>{patients.length}</p>\n//             </div>\n//             <div className=\"stat-icon\">👥</div>\n//           </div>\n          \n//           <div className=\"stat-card blue\">\n//             <div className=\"stat-info\">\n//               <h3>Active Cases</h3>\n//               <p>{patients.filter(p => p.diagnosis && p.diagnosis !== 'None specified' && p.diagnosis !== '').length}</p>\n//             </div>\n//             <div className=\"stat-icon\">📋</div>\n//           </div>\n          \n//           <div className=\"stat-card purple\">\n//             <div className=\"stat-info\">\n//               <h3>Family Patients</h3>\n//               <p>{patients.filter(p => p.relationship !== 'self').length}</p>\n//             </div>\n//             <div className=\"stat-icon\">👨‍👩‍👧‍👦</div>\n//           </div>\n\n//           <div className=\"stat-card orange\">\n//             <div className=\"stat-info\">\n//               <h3>Today's Updates</h3>\n//               <p>{patients.filter(p => p.updated_at && new Date(p.updated_at).toDateString() === new Date().toDateString()).length}</p>\n//             </div>\n//             <div className=\"stat-icon\">🩺</div>\n//           </div>\n//         </div>\n\n//         {/* Patient Records */}\n//         <div style={{ marginTop: '40px' }}>\n//           <h2 style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '16px' }}>\n//             📋 Patient Records\n//           </h2>\n//           <p style={{ color: '#6b7280', marginBottom: '24px' }}>\n//             Click on any patient to view their complete family medical history and update current condition\n//           </p>\n\n//           {loading && (\n//             <div style={{ textAlign: 'center', padding: '40px' }}>\n//               <p>🔄 Loading patients...</p>\n//             </div>\n//           )}\n          \n//           {error && (\n//             <div style={{ textAlign: 'center', padding: '40px' }}>\n//               <p className=\"error-message\">❌ {error}</p>\n//               <button \n//                 onClick={fetchPatients}\n//                 style={{ \n//                   marginTop: '10px', \n//                   padding: '8px 16px', \n//                   backgroundColor: '#3b82f6', \n//                   color: 'white', \n//                   border: 'none', \n//                   borderRadius: '4px',\n//                   cursor: 'pointer'\n//                 }}\n//               >\n//                 🔄 Retry\n//               </button>\n//             </div>\n//           )}\n\n//           {!loading && !error && (\n//             <>\n//               {patients.length === 0 ? (\n//                 <div style={{ textAlign: 'center', padding: '40px' }}>\n//                   <p>📭 No patients found.</p>\n//                 </div>\n//               ) : (\n//                 <div className=\"patient-grid\">\n//                   {patients.map((patient) => {\n//                     const hasHistory = patient.medical_history && patient.medical_history.length > 0;\n//                     return (\n//                       <div key={patient.id} className={`patient-card ${hasHistory ? 'returning-patient' : 'new-patient'}`}>\n//                         <div className=\"patient-header\">\n//                           <h3 className=\"patient-name\">\n//                             {getRelationshipEmoji(patient.relationship)} {patient.name}\n//                           </h3>\n//                           <div className=\"patient-badges\">\n//                             <span className=\"patient-id\">ID: {patient.id}</span>\n//                             <span className=\"relationship-badge\">\n//                               {getRelationshipDisplay(patient.relationship)}\n//                             </span>\n//                             {hasHistory && <span className=\"returning-badge\">🔄 Has History</span>}\n//                           </div>\n//                         </div>\n                        \n//                         <div className=\"patient-details\">\n//                           <div className=\"patient-detail\">\n//                             👤 Age: {patient.age} years | Gender: {patient.gender}\n//                           </div>\n//                           <div className=\"patient-detail\">\n//                             📞 Phone: {patient.phone_number}\n//                           </div>\n//                           <div className=\"patient-detail relationship-info\">\n//                             👥 Relationship: {getRelationshipDisplay(patient.relationship)}\n//                           </div>\n//                           <div className=\"patient-detail\">\n//                             🏥 Current Diagnosis: {patient.diagnosis || 'None specified'}\n//                           </div>\n//                           {patient.prescriptions && (\n//                             <div className=\"patient-detail\">\n//                               💊 Current Medications: {patient.prescriptions}\n//                             </div>\n//                           )}\n//                           {patient.last_checkup && (\n//                             <div className=\"patient-detail\">\n//                               🗓️ Last Checkup: {patient.last_checkup}\n//                             </div>\n//                           )}\n//                           {hasHistory && (\n//                             <div className=\"patient-detail history-indicator\">\n//                               📚 Previous Visits: {patient.medical_history.length}\n//                             </div>\n//                           )}\n//                           {patient.updated_at && (\n//                             <div className=\"patient-detail\">\n//                               ⏰ Last Updated: {new Date(patient.updated_at).toLocaleDateString()}\n//                             </div>\n//                           )}\n//                         </div>\n                        \n//                         <div className=\"patient-actions\">\n//                           <button \n//                             className=\"btn btn-edit\"\n//                             onClick={() => handleEdit(patient)}\n//                           >\n//                             {hasHistory ? '📚 View Family History & Update' : '✏️ Add First Medical Record'}\n//                           </button>\n//                         </div>\n//                       </div>\n//                     );\n//                   })}\n//                 </div>\n//               )}\n//             </>\n//           )}\n//         </div>\n\n//         {/* Enhanced Edit Modal with Family History */}\n//         {showEditModal && editingPatient && (\n//           <div className=\"modal-overlay\">\n//             <div className=\"modal-content family-modal\">\n//               <div className=\"modal-header\">\n//                 <div className=\"patient-info-header\">\n//                   <h2 className=\"modal-title\">\n//                     🩺 Medical Record - {getRelationshipEmoji(editingPatient.relationship)} {editingPatient.name}\n//                   </h2>\n//                   <div className=\"patient-status\">\n//                     {familySummary.has_history ? (\n//                       <span className=\"status-badge family-history\">\n//                         👨‍👩‍👧‍👦 Family History ({familySummary.total_visits} total visits)\n//                       </span>\n//                     ) : (\n//                       <span className=\"status-badge new-family\">\n//                         ✨ New Family (First Visit)\n//                       </span>\n//                     )}\n//                   </div>\n//                 </div>\n//                 <p className=\"modal-subtitle\">\n//                   📞 Phone: {editingPatient.phone_number} | 👥 Relationship: {getRelationshipDisplay(editingPatient.relationship)} | \n//                   👤 Age: {editingPatient.age} | Gender: {editingPatient.gender}\n//                 </p>\n//                 <button \n//                   className=\"modal-close\"\n//                   onClick={handleCloseModal}\n//                   style={{\n//                     position: 'absolute',\n//                     top: '16px',\n//                     right: '16px',\n//                     background: 'none',\n//                     border: 'none',\n//                     fontSize: '24px',\n//                     cursor: 'pointer',\n//                     color: '#6b7280'\n//                   }}\n//                 >\n//                   ✕\n//                 </button>\n//               </div>\n              \n//               <div className=\"modal-body\">\n//                 {/* Family History Section */}\n//                 <div className=\"history-section\">\n//                   <h3 className=\"section-title\">\n//                     👨‍👩‍👧‍👦 Family Medical History \n//                     {familySummary.has_history && (\n//                       <span className=\"visit-count\">\n//                         ({familySummary.unique_members} members, {familySummary.total_visits} visits)\n//                       </span>\n//                     )}\n//                   </h3>\n                  \n//                   {loadingHistory ? (\n//                     <div className=\"loading-history\">🔄 Loading family history...</div>\n//                   ) : (\n//                     <>\n//                       {/* Family Members Summary */}\n//                       {familyMembers.length > 1 && (\n//                         <div className=\"family-members-section\">\n//                           <h4 className=\"subsection-title\">👥 Family Members Using This Phone</h4>\n//                           <div className=\"family-members-grid\">\n//                             {familyMembers.map((member, index) => (\n//                               <div key={member.id} className={`family-member-card ${member.id === editingPatient.id ? 'current-patient' : ''}`}>\n//                                 <div className=\"member-info\">\n//                                   <span className=\"member-name\">\n//                                     {getRelationshipEmoji(member.relationship)} {member.name}\n//                                   </span>\n//                                   <span className=\"member-details\">\n//                                     {getRelationshipDisplay(member.relationship)} | Age: {member.age}\n//                                   </span>\n//                                   {member.id === editingPatient.id && (\n//                                     <span className=\"current-badge\">Current Patient</span>\n//                                   )}\n//                                 </div>\n//                               </div>\n//                             ))}\n//                           </div>\n//                         </div>\n//                       )}\n\n//                       {/* Medical Visit History */}\n//                       {familyHistory.length > 0 ? (\n//                         <div className=\"history-list\">\n//                           <h4 className=\"subsection-title\">🩺 Medical Visit History</h4>\n//                           {familyHistory.map((history, index) => (\n//                             <div key={history.id || index} className=\"history-item\">\n//                               <div className=\"history-header\">\n//                                 <div className=\"visit-info\">\n//                                   <span className=\"visit-date\">\n//                                     🗓️ {new Date(history.visit_date).toLocaleDateString()} \n//                                     {new Date(history.visit_date).toDateString() === new Date().toDateString() && \n//                                       <span className=\"today-badge\">Today</span>\n//                                     }\n//                                   </span>\n//                                   <span className=\"patient-info\">\n//                                     {getRelationshipEmoji(history.relationship)} {history.patient_name} \n//                                     ({getRelationshipDisplay(history.relationship)}, Age: {history.age})\n//                                   </span>\n//                                 </div>\n//                                 <span className=\"doctor-name\">\n//                                   👨‍⚕️ {history.doctor_name}\n//                                 </span>\n//                               </div>\n//                               <div className=\"history-details\">\n//                                 {history.diagnosis && (\n//                                   <p><strong>🏥 Diagnosis:</strong> {history.diagnosis}</p>\n//                                 )}\n//                                 {history.medical_notes && (\n//                                   <p><strong>📝 Notes:</strong> {history.medical_notes}</p>\n//                                 )}\n//                                 {history.prescriptions && (\n//                                   <p><strong>💊 Prescriptions:</strong> {history.prescriptions}</p>\n//                                 )}\n//                               </div>\n//                             </div>\n//                           ))}\n//                         </div>\n//                       ) : (\n//                         <div className=\"no-history\">\n//                           <div className=\"no-history-icon\">📝</div>\n//                           <p>No previous medical history found for this phone number.</p>\n//                           <p>This will be the first medical record for this family.</p>\n//                         </div>\n//                       )}\n//                     </>\n//                   )}\n//                 </div>\n\n//                 {/* Current Update Form */}\n//                 <div className=\"update-section\">\n//                   <h3 className=\"section-title\">\n//                     🩺 Current Visit - {getRelationshipEmoji(editingPatient.relationship)} {editingPatient.name}\n//                     <span className=\"patient-relationship\">({getRelationshipDisplay(editingPatient.relationship)})</span>\n//                   </h3>\n//                   <form onSubmit={updatePatient}>\n//                     <div className=\"form-group\">\n//                       <label className=\"form-label\">\n//                         🏥 Current Diagnosis *\n//                         <span className=\"helper-text\">What is the current medical condition or complaint?</span>\n//                       </label>\n//                       <textarea\n//                         name=\"diagnosis\"\n//                         className=\"form-input\"\n//                         value={editingPatient.diagnosis || ''}\n//                         onChange={handleInputChange}\n//                         placeholder=\"e.g., Cough, Cold, Fever, Headache...\"\n//                         rows=\"3\"\n//                         required\n//                       />\n//                     </div>\n                    \n//                     <div className=\"form-group\">\n//                       <label className=\"form-label\">\n//                         📝 Medical Notes\n//                         <span className=\"helper-text\">Detailed observations, symptoms, examination findings</span>\n//                       </label>\n//                       <textarea\n//                         name=\"medical_notes\"\n//                         className=\"form-input\"\n//                         value={editingPatient.medical_notes || ''}\n//                         onChange={handleInputChange}\n//                         placeholder=\"Enter detailed medical notes, observations, symptoms, examination findings...\"\n//                         rows=\"4\"\n//                       />\n//                     </div>\n                    \n//                     <div className=\"form-group\">\n//                       <label className=\"form-label\">\n//                         💊 Prescriptions\n//                         <span className=\"helper-text\">Medications with dosage and frequency</span>\n//                       </label>\n//                       <textarea\n//                         name=\"prescriptions\"\n//                         className=\"form-input\"\n//                         value={editingPatient.prescriptions || ''}\n//                         onChange={handleInputChange}\n//                         placeholder=\"e.g., Paracetamol 500mg - 2 times daily after meals&#10;Amoxicillin 250mg - 3 times daily for 7 days\"\n//                         rows=\"3\"\n//                       />\n//                     </div>\n                    \n//                     <div className=\"form-row\">\n//                       <div className=\"form-group\">\n//                         <label className=\"form-label\">📅 Checkup Date</label>\n//                         <input\n//                           type=\"date\"\n//                           name=\"last_checkup\"\n//                           className=\"form-input\"\n//                           value={editingPatient.last_checkup || ''}\n//                           onChange={handleInputChange}\n//                         />\n//                       </div>\n                      \n//                       <div className=\"form-group\">\n//                         <label className=\"form-label\">🗓️ Next Appointment</label>\n//                         <input\n//                           type=\"date\"\n//                           name=\"next_appointment\"\n//                           className=\"form-input\"\n//                           value={editingPatient.next_appointment || ''}\n//                           onChange={handleInputChange}\n//                           min={new Date().toISOString().split('T')[0]}\n//                         />\n//                       </div>\n//                     </div>\n                    \n//                     <div className=\"form-actions\">\n//                       <button \n//                         type=\"button\" \n//                         className=\"btn btn-cancel\"\n//                         onClick={handleCloseModal}\n//                         disabled={saving}\n//                       >\n//                         Cancel\n//                       </button>\n//                       <button \n//                         type=\"submit\" \n//                         className=\"btn btn-submit\"\n//                         disabled={saving}\n//                       >\n//                         {saving ? '💾 Saving...' : '💾 Save Medical Record'}\n//                       </button>\n//                     </div>\n//                   </form>\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         )}\n//       </div>\n\n//       {/* Enhanced Styles */}\n//       <style jsx>{`\n//         .family-modal .modal-content {\n//           max-width: 1300px;\n//           max-height: 95vh;\n//           overflow-y: auto;\n//           position: relative;\n//         }\n\n//         .patient-info-header {\n//           display: flex;\n//           justify-content: space-between;\n//           align-items: center;\n//           margin-bottom: 8px;\n//         }\n\n//         .patient-status {\n//           display: flex;\n//           gap: 8px;\n//         }\n\n//         .status-badge {\n//           padding: 6px 12px;\n//           border-radius: 20px;\n//           font-size: 12px;\n//           font-weight: 600;\n//         }\n\n//         .status-badge.family-history {\n//           background: #dbeafe;\n//           color: #1e40af;\n//         }\n\n//         .status-badge.new-family {\n//           background: #dcfce7;\n//           color: #166534;\n//         }\n\n//         .returning-patient {\n//           border-left: 4px solid #3b82f6;\n//         }\n\n//         .new-patient {\n//           border-left: 4px solid #10b981;\n//         }\n\n//         .patient-badges {\n//           display: flex;\n//           flex-direction: column;\n//           align-items: flex-end;\n//           gap: 4px;\n//         }\n\n//         .relationship-badge {\n//           background: #f3e8ff;\n//           color: #7c3aed;\n//           padding: 2px 8px;\n//           border-radius: 12px;\n//           font-size: 11px;\n//           font-weight: 600;\n//         }\n\n//         .returning-badge {\n//           background: #dbeafe;\n//           color: #1e40af;\n//           padding: 2px 8px;\n//           border-radius: 12px;\n//           font-size: 11px;\n//           font-weight: 600;\n//         }\n\n//         .relationship-info {\n//           background: #f3e8ff;\n//           color: #7c3aed;\n//           padding: 4px 8px;\n//           border-radius: 4px;\n//           font-weight: 500;\n//         }\n\n//         .history-indicator {\n//           background: #f0f9ff;\n//           color: #0369a1;\n//           padding: 4px 8px;\n//           border-radius: 4px;\n//           font-weight: 500;\n//         }\n\n//         .modal-body {\n//           display: flex;\n//           gap: 30px;\n//           padding: 20px;\n//         }\n\n//         .history-section {\n//           flex: 1.3;\n//           border-right: 1px solid #e5e7eb;\n//           padding-right: 20px;\n//         }\n\n//         .update-section {\n//           flex: 1;\n//           padding-left: 20px;\n//         }\n\n//         .section-title {\n//           font-size: 18px;\n//           font-weight: bold;\n//           margin-bottom: 16px;\n//           color: #374151;\n//           display: flex;\n//           align-items: center;\n//           gap: 8px;\n//         }\n\n//         .visit-count {\n//           font-size: 14px;\n//           color: #6b7280;\n//           font-weight: normal;\n//         }\n\n//         .patient-relationship {\n//           font-size: 14px;\n//           color: #7c3aed;\n//           font-weight: normal;\n//         }\n\n//         .subsection-title {\n//           font-size: 16px;\n//           font-weight: 600;\n//           margin: 16px 0 12px 0;\n//           color: #4b5563;\n//         }\n\n//         .loading-history {\n//           text-align: center;\n//           padding: 40px;\n//           color: #6b7280;\n//         }\n\n//         .family-members-section {\n//           margin-bottom: 24px;\n//         }\n\n//         .family-members-grid {\n//           display: grid;\n//           gap: 8px;\n//           margin-bottom: 16px;\n//         }\n\n//         .family-member-card {\n//           background: #f9fafb;\n//           border: 1px solid #e5e7eb;\n//           border-radius: 8px;\n//           padding: 12px;\n//         }\n\n//         .current-patient {\n//           background: #dbeafe;\n//           border-color: #3b82f6;\n//         }\n\n//         .member-info {\n//           display: flex;\n//           justify-content: space-between;\n//           align-items: center;\n//         }\n\n//         .member-name {\n//           font-weight: 600;\n//           color: #374151;\n//         }\n\n//         .member-details {\n//           font-size: 12px;\n//           color: #6b7280;\n//         }\n\n//         .current-badge {\n//           background: #3b82f6;\n//           color: white;\n//           padding: 2px 8px;\n//           border-radius: 12px;\n//           font-size: 10px;\n//           font-weight: 600;\n//         }\n\n//         .history-list {\n//           max-height: 500px;\n//           overflow-y: auto;\n//         }\n\n//         .history-item {\n//           background: #f9fafb;\n//           border: 1px solid #e5e7eb;\n//           border-radius: 8px;\n//           padding: 16px;\n//           margin-bottom: 12px;\n//         }\n\n//         .history-header {\n//           display: flex;\n//           justify-content: space-between;\n//           margin-bottom: 8px;\n//           font-size: 14px;\n//           color: #6b7280;\n//         }\n\n//         .visit-info {\n//           display: flex;\n//           flex-direction: column;\n//           gap: 4px;\n//         }\n\n//         .patient-info {\n//           font-weight: 500;\n//           color: #374151;\n//         }\n\n//         .today-badge {\n//           background: #fef3c7;\n//           color: #92400e;\n//           padding: 2px 6px;\n//           border-radius: 8px;\n//           font-size: 10px;\n//           margin-left: 8px;\n//         }\n\n//         .history-details p {\n//           margin: 6px 0;\n//           font-size: 14px;\n//           line-height: 1.4;\n//         }\n\n//         .no-history {\n//           text-align: center;\n//           padding: 40px;\n//           background: #f9fafb;\n//           border-radius: 8px;\n//           border: 2px dashed #d1d5db;\n//         }\n\n//         .no-history-icon {\n//           font-size: 48px;\n//           margin-bottom: 16px;\n//         }\n\n//         .no-history p {\n//           color: #6b7280;\n//           margin: 8px 0;\n//         }\n\n//         .form-row {\n//           display: flex;\n//           gap: 16px;\n//         }\n\n//         .form-row .form-group {\n//           flex: 1;\n//         }\n\n//         .form-group {\n//           margin-bottom: 16px;\n//         }\n\n//         .form-label {\n//           display: block;\n//           margin-bottom: 6px;\n//           font-weight: 600;\n//           color: #374151;\n//           font-size: 14px;\n//         }\n\n//         .helper-text {\n//           display: block;\n//           font-size: 12px;\n//           color: #6b7280;\n//           font-weight: normal;\n//           margin-top: 2px;\n//         }\n\n//         .form-input {\n//           width: 100%;\n//           padding: 10px 12px;\n//           border: 1px solid #d1d5db;\n//           border-radius: 6px;\n//           font-size: 14px;\n//           transition: border-color 0.2s;\n//         }\n\n//         .form-input:focus {\n//           outline: none;\n//           border-color: #3b82f6;\n//           box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n//         }\n\n//         .form-actions {\n//           display: flex;\n//           gap: 12px;\n//           justify-content: flex-end;\n//           margin-top: 24px;\n//           padding-top: 20px;\n//           border-top: 1px solid #e5e7eb;\n//         }\n\n//         .btn {\n//           padding: 12px 24px;\n//           border: none;\n//           border-radius: 6px;\n//           font-weight: 600;\n//           cursor: pointer;\n//           transition: all 0.2s;\n//           font-size: 14px;\n//         }\n\n//         .btn:disabled {\n//           opacity: 0.6;\n//           cursor: not-allowed;\n//         }\n\n//         .btn-cancel {\n//           background: #f3f4f6;\n//           color: #374151;\n//         }\n\n//         .btn-cancel:hover:not(:disabled) {\n//           background: #e5e7eb;\n//         }\n\n//         .btn-submit {\n//           background: #3b82f6;\n//           color: white;\n//         }\n\n//         .btn-submit:hover:not(:disabled) {\n//           background: #2563eb;\n//         }\n\n//         .stats-grid {\n//           display: grid;\n//           grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n//           gap: 20px;\n//           margin-bottom: 30px;\n//         }\n\n//         .stat-card.orange {\n//           background: linear-gradient(135deg, #fed7aa 0%, #fb923c 100%);\n//           color: white;\n//         }\n//       `}</style>\n//     </div>\n//   );\n// }\n\n\n\n\n\n\n\n\"use client\"\n\nimport { useEffect, useState } from \"react\"\n\nconst DoctorDashboard = () => {\n  const [patients, setPatients] = useState([])\n  const [selectedPatient, setSelectedPatient] = useState(null)\n  const [showUpdateForm, setShowUpdateForm] = useState(false)\n  const [updateData, setUpdateData] = useState({\n    diagnosis: \"\",\n    medical_notes: \"\",\n    prescriptions: \"\",\n    next_appointment: \"\",\n  })\n  const [loading, setLoading] = useState(true)\n\n  const fetchPatients = async () => {\n    try {\n      const token = localStorage.getItem(\"token\")\n      const res = await fetch(\"http://localhost:8080/api/patients\", {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n\n      if (res.ok) {\n        const data = await res.json()\n        setPatients(data || [])\n      } else {\n        console.error(\"Failed to fetch patients\")\n      }\n    } catch (error) {\n      console.error(\"Error fetching patients:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchPatients()\n  }, [])\n\n  const handleUpdatePatient = async (e) => {\n    e.preventDefault()\n\n    if (!selectedPatient) return\n\n    try {\n      const token = localStorage.getItem(\"token\")\n      const res = await fetch(`http://localhost:8080/api/patients/${selectedPatient.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          ...selectedPatient,\n          ...updateData,\n        }),\n      })\n\n      if (res.ok) {\n        alert(\"✅ Patient updated successfully\")\n        await fetchPatients()\n        setShowUpdateForm(false)\n        setSelectedPatient(null)\n        setUpdateData({\n          diagnosis: \"\",\n          medical_notes: \"\",\n          prescriptions: \"\",\n          next_appointment: \"\",\n        })\n      } else {\n        const errorData = await res.json()\n        alert(`❌ Failed to update patient: ${errorData.error}`)\n      }\n    } catch (error) {\n      alert(\"❌ Network error\")\n    }\n  }\n\n  const openUpdateForm = (patient) => {\n    setSelectedPatient(patient)\n    setUpdateData({\n      diagnosis: patient.diagnosis || \"\",\n      medical_notes: patient.medical_notes || \"\",\n      prescriptions: patient.prescriptions || \"\",\n      next_appointment: patient.next_appointment || \"\",\n    })\n    setShowUpdateForm(true)\n  }\n\n  const closeUpdateForm = () => {\n    setShowUpdateForm(false)\n    setSelectedPatient(null)\n    setUpdateData({\n      diagnosis: \"\",\n      medical_notes: \"\",\n      prescriptions: \"\",\n      next_appointment: \"\",\n    })\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-green-600 to-blue-600 text-white p-6 rounded-lg\">\n        <h1 className=\"text-3xl font-bold mb-2\">👨‍⚕️ Doctor Dashboard</h1>\n        <p className=\"text-green-100\">View and manage patient medical records</p>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <div className=\"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-gray-600 text-sm\">Total Patients</p>\n              <p className=\"text-3xl font-bold text-gray-900\">{patients.length}</p>\n            </div>\n            <div className=\"text-4xl text-blue-500\">👥</div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-gray-600 text-sm\">Active Cases</p>\n              <p className=\"text-3xl font-bold text-gray-900\">\n                {patients.filter((p) => p.diagnosis && p.diagnosis.trim() !== \"\").length}\n              </p>\n            </div>\n            <div className=\"text-4xl text-green-500\">🏥</div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-lg shadow-md border-l-4 border-purple-500\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-gray-600 text-sm\">With Prescriptions</p>\n              <p className=\"text-3xl font-bold text-gray-900\">\n                {patients.filter((p) => p.prescriptions && p.prescriptions.trim() !== \"\").length}\n              </p>\n            </div>\n            <div className=\"text-4xl text-purple-500\">💊</div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-lg shadow-md border-l-4 border-orange-500\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-gray-600 text-sm\">Follow-ups</p>\n              <p className=\"text-3xl font-bold text-gray-900\">\n                {patients.filter((p) => p.next_appointment && p.next_appointment.trim() !== \"\").length}\n              </p>\n            </div>\n            <div className=\"text-4xl text-orange-500\">📅</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Patient Records */}\n      <div className=\"bg-white rounded-lg shadow-md\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-xl font-semibold text-gray-900\">📋 Patient Records</h2>\n        </div>\n\n        {loading ? (\n          <div className=\"p-6 text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto\"></div>\n            <p className=\"mt-2 text-gray-600\">Loading patients...</p>\n          </div>\n        ) : patients.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <div className=\"text-4xl mb-2\">📋</div>\n            <p>No patient records found.</p>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Patient Info\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Contact\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Medical Status\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {patients.map((patient) => (\n                  <tr key={patient.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div>\n                          <div className=\"text-sm font-medium text-gray-900\">{patient.name}</div>\n                          <div className=\"text-sm text-gray-500\">\n                            ID: {patient.id} • Age: {patient.age} • {patient.gender || \"N/A\"}\n                          </div>\n                          {patient.relationship && (\n                            <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mt-1\">\n                              {patient.relationship}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {patient.phone_number || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"text-sm text-gray-900\">\n                        <div className=\"font-medium\">{patient.diagnosis || \"No diagnosis\"}</div>\n                        {patient.medical_notes && (\n                          <div className=\"text-gray-500 mt-1\">\n                            Notes: {patient.medical_notes.substring(0, 50)}\n                            {patient.medical_notes.length > 50 ? \"...\" : \"\"}\n                          </div>\n                        )}\n                        {patient.prescriptions && <div className=\"text-blue-600 mt-1\">💊 Prescribed</div>}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <button\n                        onClick={() => openUpdateForm(patient)}\n                        className=\"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors\"\n                      >\n                        📝 Update\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Update Patient Modal */}\n      {showUpdateForm && selectedPatient && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                📝 Update Medical Record - {selectedPatient.name}\n              </h3>\n\n              <form onSubmit={handleUpdatePatient} className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Diagnosis</label>\n                  <input\n                    type=\"text\"\n                    value={updateData.diagnosis}\n                    onChange={(e) => setUpdateData({ ...updateData, diagnosis: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    placeholder=\"Enter diagnosis\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Medical Notes</label>\n                  <textarea\n                    value={updateData.medical_notes}\n                    onChange={(e) => setUpdateData({ ...updateData, medical_notes: e.target.value })}\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    placeholder=\"Enter medical notes\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Prescriptions</label>\n                  <textarea\n                    value={updateData.prescriptions}\n                    onChange={(e) => setUpdateData({ ...updateData, prescriptions: e.target.value })}\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    placeholder=\"Enter prescriptions\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Next Appointment</label>\n                  <input\n                    type=\"text\"\n                    value={updateData.next_appointment}\n                    onChange={(e) => setUpdateData({ ...updateData, next_appointment: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    placeholder=\"e.g., Next week, 2024-01-15, etc.\"\n                  />\n                </div>\n\n                <div className=\"flex space-x-3 pt-4\">\n                  <button\n                    type=\"submit\"\n                    className=\"bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center gap-2\"\n                  >\n                    <span>💾</span>\n                    Update Record\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={closeUpdateForm}\n                    className=\"bg-gray-500 text-white px-6 py-2 rounded-lg font-medium hover:bg-gray-600 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default DoctorDashboard\n\n\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAQA,YAAY;;AAAA,IAAAA,YAAA;EAAAC,EAAA,GAAAC,YAAA;AAEZ,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE3C,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAN,EAAA;EAC5B,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACM,eAAe,EAAEC,kBAAkB,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACQ,cAAc,EAAEC,iBAAiB,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGX,QAAQ,CAAC;IAC3CY,SAAS,EAAE,EAAE;IACbC,aAAa,EAAE,EAAE;IACjBC,aAAa,EAAE,EAAE;IACjBC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}